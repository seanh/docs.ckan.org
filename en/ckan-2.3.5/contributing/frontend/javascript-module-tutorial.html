

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Building a JavaScript Module &mdash; CKAN 2.3.5 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  

  
    <link rel="stylesheet" href="https://media.readthedocs.org/css/sphinx_rtd_theme.css" type="text/css" />
  
    <link rel="top" title="CKAN 2.3.5 documentation" href="../../index.html"/>
        <link rel="up" title="Frontend development guidelines" href="index.html"/>
        <link rel="next" title="Database migrations" href="../database-migrations.html"/>
        <link rel="prev" title="Template Blocks" href="template-blocks.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>


<!-- RTD Extra Head -->

<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link rel="canonical" href="http://docs.ckan.org/en/latest/contributing/frontend/javascript-module-tutorial.html" />

<link rel="stylesheet" href="https://media.readthedocs.org/css/readthedocs-doc-embed.css" type="text/css" />

<script type="text/javascript" src="../../_static/readthedocs-data.js"></script>

<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = 'contributing/frontend/javascript-module-tutorial'
</script>

<script type="text/javascript" src="../../_static/readthedocs-dynamic-include.js"></script>

<!-- end RTD <extrahead> --></head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../../contents.html" class="fa fa-home"> CKAN</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="http://docs.ckan.org/en/ckan-2.3.5/search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user-guide.html">User guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../user-guide.html#what-is-ckan">What is CKAN?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user-guide.html#using-ckan">Using CKAN</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../sysadmin-guide.html">Sysadmin guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../sysadmin-guide.html#creating-a-sysadmin-account">Creating a sysadmin account</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sysadmin-guide.html#customizing-look-and-feel">Customizing look and feel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sysadmin-guide.html#managing-organizations-and-datasets">Managing organizations and datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sysadmin-guide.html#permanently-deleting-datasets">Permanently deleting datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sysadmin-guide.html#managing-users">Managing users</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../maintaining/index.html">Maintainer&#8217;s guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../maintaining/installing/index.html">Installing CKAN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../maintaining/upgrading/index.html">Upgrading CKAN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../maintaining/getting-started.html">Getting started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../maintaining/paster.html">Command Line Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../maintaining/authorization.html">Organizations and authorization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../maintaining/data-viewer.html">Data preview and visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../maintaining/filestore.html">FileStore and file uploads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../maintaining/datastore.html">DataStore extension</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../maintaining/apps-ideas.html">Apps &amp; Ideas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../maintaining/tag-vocabularies.html">Tag Vocabularies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../maintaining/form-integration.html">Form Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../maintaining/linked-data-and-rdf.html">Linked Data and RDF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../maintaining/background-tasks.html">Background tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../maintaining/email-notifications.html">Email notifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../maintaining/tracking.html">Page View Tracking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../maintaining/multilingual.html">Multilingual Extension</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../maintaining/stats.html">Stats Extension</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../maintaining/configuration.html">Config File Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../maintaining/solr-multicore.html">Multicore Solr setup</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">API guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/legacy-api.html">Legacy APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/index.html#making-an-api-request">Making an API request</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/index.html#example-importing-datasets-with-the-ckan-api">Example: Importing datasets with the CKAN API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/index.html#api-versions">API versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/index.html#authentication-and-api-keys">Authentication and API keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/index.html#get-able-api-functions">GET-able API functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/index.html#jsonp-support">JSONP support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/index.html#api-examples">API Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/index.html#action-api-reference">Action API reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../extensions/index.html">Extending guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../extensions/tutorial.html">Writing extensions tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../extensions/custom-config-settings.html">Using custom config settings in extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../extensions/testing-extensions.html">Testing extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../extensions/best-practices.html">Best practices for writing extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../extensions/adding-custom-fields.html">Customizing dataset and resource metadata fields using IDatasetForm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../extensions/plugin-interfaces.html">Plugin interfaces reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../extensions/plugins-toolkit.html">Plugins toolkit reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../extensions/validators.html">Validator functions reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../theming/index.html">Theming guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../theming/templates.html">Customizing CKAN&#8217;s templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../theming/static-files.html">Adding static files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../theming/css.html">Customizing CKAN&#8217;s CSS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../theming/fanstatic.html">Adding CSS and JavaScript files using Fanstatic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../theming/javascript.html">Customizing CKAN&#8217;s JavaScript</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../theming/best-practices.html">Best practices for writing CKAN themes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../theming/jinja-tags.html">Custom Jinja2 tags reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../theming/variables-and-functions.html">Variables and functions available to templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../theming/javascript-module-objects-and-methods.html">Objects and methods available to JavaScript modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../theming/template-helper-functions.html">Template helper functions reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../theming/template-snippets.html">Template snippets reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../theming/javascript-sandbox.html">JavaScript sandbox reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../theming/javascript-api-client.html">JavaScript API client reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../theming/jquery-plugins.html">CKAN jQuery plugins reference</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Contributing guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../issues.html">Reporting issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="../i18n.html">Translating CKAN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test.html">Testing CKAN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commit-messages.html">Writing commit messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pull-requests.html">Making a pull request</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reviewing.html">Reviewing and merging a pull request</a></li>
<li class="toctree-l2"><a class="reference internal" href="../documentation.html">Writing documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../simple-code-contributions.html">Projects for beginner CKAN developers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html">CKAN code architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../css.html">CSS coding standards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../html.html">HTML coding standards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../javascript.html">JavaScript coding standards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python.html">Python coding standards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../string-i18n.html">String internationalization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing.html">Testing coding standards</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Frontend development guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database-migrations.html">Database migrations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrading-dependencies.html">Upgrading CKAN&#8217;s dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release-process.html">Doing a CKAN release</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../contents.html">CKAN</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../contents.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Contributing guide</a> &raquo;</li>
      
          <li><a href="index.html">Frontend development guidelines</a> &raquo;</li>
      
    <li>Building a JavaScript Module</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="https://github.com/ckan/ckan/blob/ckan-2.3.5/doc/contributing/frontend/javascript-module-tutorial.rst" class="fa fa-github"> Edit on GitHub</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="building-a-javascript-module">
<h1>Building a JavaScript Module<a class="headerlink" href="javascript-module-tutorial.html#building-a-javascript-module" title="Permalink to this headline">¶</a></h1>
<p>CKAN makes heavy use of modules to add additional functionality to the
page. Essentially all a module consists of is an object with an
<tt class="docutils literal"><span class="pre">.initialize()</span></tt> and <tt class="docutils literal"><span class="pre">.teardown()</span></tt> method.</p>
<p>Here we will go through the basic functionality of building a simple
module that sends a &#8220;favourite&#8221; request to the server when the user
clicks a button.</p>
<div class="section" id="html">
<h2>HTML<a class="headerlink" href="javascript-module-tutorial.html#html" title="Permalink to this headline">¶</a></h2>
<p>The idea behind modules is that the element should already be in the
document when the page loads. For example our favourite button will work
just fine without our module JavaScript loaded.</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;form action=&quot;/favourite&quot; method=&quot;post&quot; data-module=&quot;favorite&quot;&gt;
  &lt;button class=&quot;btn&quot; name=&quot;package&quot; value=&quot;101&quot;&gt;Submit&lt;/button&gt;
&lt;/form&gt;
</pre></div>
</div>
<p>Here it&#8217;s the <tt class="docutils literal"><span class="pre">data-module=&quot;favorite&quot;</span></tt> that tells the CKAN module
loader to create a new instance for this element.</p>
</div>
<div class="section" id="javascript">
<h2>JavaScript<a class="headerlink" href="javascript-module-tutorial.html#javascript" title="Permalink to this headline">¶</a></h2>
<p>Modules reside in the <em>javascript/modules</em> directory and should share
the same name as the module. We use hyphens to delimit spaces in both
filenames and modules.</p>
<div class="highlight-python"><div class="highlight"><pre>/javascript/modules/favorite.js
</pre></div>
</div>
<p>A module can be created by calling <tt class="docutils literal"><span class="pre">ckan.module()</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre>ckan.module(&#39;favorite&#39;, function (jQuery, _) {
  return {};
});
</pre></div>
</div>
<p>We pass in the module name and a factory function that should return our
module object. This factory gets passed a local jQuery object and a
translation object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In order to include a module for page render inclusion within an
extension it is recommended that you use <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">resource</span> <span class="pre">%}</span></tt> within
your templates. See the <a class="reference external" href="resources.html">Resource Documentation</a></p>
</div>
<div class="section" id="initialisation">
<h3>Initialisation<a class="headerlink" href="javascript-module-tutorial.html#initialisation" title="Permalink to this headline">¶</a></h3>
<p>Once ckan has found an element on the page it creates a new instance of
your module and if present calls the <tt class="docutils literal"><span class="pre">.initialize()</span></tt> method.</p>
<div class="highlight-python"><div class="highlight"><pre>ckan.module(&#39;favorite&#39;, function (jQuery, _) {
  return {
    initialize: function () {
      console.log(&#39;I&#39;ve been called for element: %o&#39;, this.el);
    }
  };
});
</pre></div>
</div>
<p>Here we can set up event listeners and other setup functions.</p>
<div class="highlight-python"><div class="highlight"><pre>initialize: function () {
  // Grab our button and assign it to a property of our module.
  this.button = this.$(&#39;button&#39;);

  // Watch for our favourite button to be clicked.
  this.button.on(&#39;submit&#39;, jQuery.proxy(this._onClick, this));
},
_onClick: function (event) {}
</pre></div>
</div>
</div>
<div class="section" id="event-handling">
<h3>Event Handling<a class="headerlink" href="javascript-module-tutorial.html#event-handling" title="Permalink to this headline">¶</a></h3>
<p>Now we create our click handler for the button:</p>
<div class="highlight-python"><div class="highlight"><pre>_onClick: function (event) {
  event.preventDefault();
  this.favorite();
}
</pre></div>
</div>
<p>And this calls a <tt class="docutils literal"><span class="pre">.favorite()</span></tt> method. It&#8217;s generally best not to do
too much in event handlers it means that you can&#8217;t use the same
functionality elsewhere.</p>
<div class="highlight-python"><div class="highlight"><pre>favorite: function () {
  // The client on the sandbox should always be used to talk to the api.
  this.sandbox.client.favoriteDataset(this.button.val());
}
</pre></div>
</div>
</div>
<div class="section" id="notifications-and-internationalisation">
<h3>Notifications and Internationalisation<a class="headerlink" href="javascript-module-tutorial.html#notifications-and-internationalisation" title="Permalink to this headline">¶</a></h3>
<p>This submits the dataset to the API but ideally we want to tell the user
what we&#8217;re doing.</p>
<div class="highlight-python"><div class="highlight"><pre>options: {
  i18n: {
    loading: _(&#39;Favouriting dataset&#39;),
    done: _(&#39;Favourited dataset %(id)s&#39;)
  }
},
favorite: function () {
  // i18n gets a translation key from the options object.
  this.button.text(this.i18n(&#39;loading&#39;));

  // The client on the sandbox should always be used to talk to the api.
  var request = this.sandbox.client.favoriteDataset(this.button.val())
  request.done(jQuery.proxy(this._onSuccess, this));
},
_onSuccess: function () {
  // We can perform interpolation on messages.
  var message = this.i18n(&#39;done&#39;, {id: this.button.val()});

  // Notify allows global messages to be displayed to the user.
  this.sandbox.notify(message, &#39;success&#39;);
}
</pre></div>
</div>
</div>
<div class="section" id="options">
<h3>Options<a class="headerlink" href="javascript-module-tutorial.html#options" title="Permalink to this headline">¶</a></h3>
<p>Displaying an id to the user isn&#8217;t very friendly. We can use the
<tt class="docutils literal"><span class="pre">data-module</span></tt> attributes to pass options through to the module.</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;form action=&quot;/favourite&quot; method=&quot;post&quot; data-module=&quot;favorite&quot; data-module-dataset=&quot;my dataset&quot;&gt;
</pre></div>
</div>
<p>This will override the defaults in the options object.</p>
<div class="highlight-python"><div class="highlight"><pre>ckan.module(&#39;favorite&#39;, function (jQuery, _) {
  return {
    options: {
      dataset: &#39;&#39;,
      i18n: {...}
    }
    initialize: function () {
      console.log(&#39;this dataset is: %s&#39;, this.options.dataset);
      //=&gt; &quot;this dataset is: my dataset&quot;
    }
  };
});
</pre></div>
</div>
</div>
<div class="section" id="error-handling">
<h3>Error handling<a class="headerlink" href="javascript-module-tutorial.html#error-handling" title="Permalink to this headline">¶</a></h3>
<p>When ever we make an Ajax request we want to make sure that we notify
the user if the request fails. Again we can use
<tt class="docutils literal"><span class="pre">this.sandbox.notify()</span></tt> to do this.</p>
<div class="highlight-python"><div class="highlight"><pre>favorite: function () {
  // The client on the sandbox should always be used to talk to the api.
  var request = this.sandbox.client.favoriteDataset(this.button.val())
  request.done(jQuery.proxy(this._onSuccess, this));
  request.fail(jQuery.proxy(this._onError, this));
},
_onError: function () {
  var message = this.i18n(&#39;error&#39;, {id: this.button.val()});

  // Notify allows global messages to be displayed to the user.
  this.sandbox.notify(message, &#39;error&#39;);
}
</pre></div>
</div>
</div>
<div class="section" id="module-scope">
<h3>Module Scope<a class="headerlink" href="javascript-module-tutorial.html#module-scope" title="Permalink to this headline">¶</a></h3>
<p>You may have noticed we keep making calls to <tt class="docutils literal"><span class="pre">jQuery.proxy()</span></tt> within
these methods. This is to ensure that <tt class="docutils literal"><span class="pre">this</span></tt> when the callback is
called is the module it belongs to.</p>
<p>We have a shortcut method called <tt class="docutils literal"><span class="pre">jQuery.proxyAll()</span></tt> that can be used
in the <tt class="docutils literal"><span class="pre">.initialize()</span></tt> method to do all the binding at once. It can
accept method names or simply a regexp.</p>
<div class="highlight-python"><div class="highlight"><pre>initialize: function () {
  jQuery.proxyAll(this, &#39;_onSuccess&#39;);

  // Same as:
  this._onSuccess = jQuery.proxy(this, &#39;_onSuccess&#39;);

  // Even better do all methods starting with _on at once.
  jQuery.proxyAll(this, /_on/);
}
</pre></div>
</div>
</div>
<div class="section" id="publish-subscribe">
<h3>Publish/Subscribe<a class="headerlink" href="javascript-module-tutorial.html#publish-subscribe" title="Permalink to this headline">¶</a></h3>
<p>Sometimes we want modules to be able to talk to each other in order to
keep the page state up to date. The sandbox has the <tt class="docutils literal"><span class="pre">.publish()</span></tt> and
<tt class="docutils literal"><span class="pre">.subscribe()</span></tt> methods for just this cause.</p>
<p>For example say we had a counter up in the header that showed how many
favourite datasets the user had. This would be incorrect when the user
clicked the ajax button. We can publish an event when the favorite
button is successful.</p>
<div class="highlight-python"><div class="highlight"><pre>_onSuccess: function () {
  // Notify allows global messages to be displayed to the user.
  this.sandbox.notify(message, &#39;success&#39;);

  // Tell other modules about this event.
  this.sandbox.publish(&#39;favorite&#39;, this.button.val());
}
</pre></div>
</div>
<p>Now in our other module &#8216;user-favorite-counter&#8217; we can listen for this.</p>
<div class="highlight-python"><div class="highlight"><pre>ckan.module(&#39;user-favorite-counter&#39;, function (jQuery, _) {
  return {
    initialize: function () {
      jQuery.proxyAll(this, /_on/);
      this.sandbox.subscribe(&#39;favorite&#39;, this._onFavorite);
    },
    teardown: function () {
      // We must always unsubscribe on teardown to prevent memory leaks.
      this.sandbox.unsubscribe(&#39;favorite&#39;, this._onFavorite);
    },
    incrementCounter: function () {
      var count = this.el.text() + 1;
      this.el.text(count);
    },
    _onFavorite: function (id) {
      this.incrementCounter();
    }
  };
});
</pre></div>
</div>
</div>
</div>
<div class="section" id="unit-tests">
<h2>Unit Tests<a class="headerlink" href="javascript-module-tutorial.html#unit-tests" title="Permalink to this headline">¶</a></h2>
<p>Every module has unit tests. These use Mocha, Chai and Sinon to assert
the expected functionality of the module.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation"
         aria-label="footer navigation">
      
        <a href="../database-migrations.html" class="btn btn-neutral float-right"
           title="Database migrations"/>
           Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="template-blocks.html" class="btn btn-neutral"
           title="Template Blocks">
           <span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr></hr>

  <p>An <a href="http://okfn.org">Open Knowledge Foundation</a> project.</p>

  <p class="copyright">
      &copy; 2009-2013, <a href="http://okfn.org/">Open Knowledge Foundation</a>.
    Licensed under <a
    href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons
    Attribution ShareAlike (Unported) v3.0 License</a>.<br />
    <img src="http://i.creativecommons.org/l/by-sa/3.0/80x15.png" alt="CC License Logo" />
    <a href="http://opendefinition.org/"><img src="http://assets.okfn.org/images/ok_buttons/oc_80x15_blue.png" border="0"
      alt="{{ _('Open Content') }}" /></a>
  
  </p>

  <p>
    <a href="https://github.com/ckan/ckan">Source</a>
    &mdash;
    <a href="https://github.com/ckan/ckan/issues">Issues</a>
    &mdash;
    <a href="http://lists.okfn.org/mailman/listinfo/ckan-dev">Mailing List</a>
    &mdash;
    <a href="http://twitter.com/CKANProject">Twitter @CKANProject</a>
  </p>

  <p>
    Related Projects:
    <a href="http://thedatahub.org/">The DataHub</a>
    &mdash;
    <a href="http://datacatalogs.org">DataCatalogs.org</a>
    &mdash;
    <a href="http://openspending.org">OpenSpending.org</a>
    &mdash;
    <a href="http://opendatahandbook.org">Open Data Handbook</a>
  </p>


  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a>  provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: ckan-2.3.5
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="../../../../index.html">latest</a></dd>
        
          <dd><a href="../../../ckan-2.6.0/index.html">ckan-2.6.0</a></dd>
        
          <dd><a href="../../../ckan-2.5.3/index.html">ckan-2.5.3</a></dd>
        
          <dd><a href="../../../ckan-2.4.4/index.html">ckan-2.4.4</a></dd>
        
          <dd><a href="../../index.html">ckan-2.3.5</a></dd>
        
          <dd><a href="../../../ckan-2.2.3/index.html">ckan-2.2.3</a></dd>
        
          <dd><a href="../../../ckan-2.1.5/index.html">ckan-2.1.5</a></dd>
        
          <dd><a href="http://docs.ckan.org/en/ckan-2.0.7/">ckan-2.0.7</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
      </dl>
      <dl>
        <dt>On Read the Docs</dt>
          <dd>
            <a href="http://readthedocs.org/projects/ckan/?fromdocs=ckan">Project Home</a>
          </dd>
          <dd>
            <a href="http://readthedocs.org/builds/ckan/?fromdocs=ckan">Builds</a>
          </dd>
      </dl>
      <hr/>
      Free document hosting provided by <a href="http://www.readthedocs.org">Read the Docs</a>.

    </div>
  </div>



  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'2.3.5',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="https://media.readthedocs.org/javascript/jquery/jquery-2.0.3.min.js"></script>
      <script type="text/javascript" src="https://media.readthedocs.org/javascript/jquery/jquery-migrate-1.2.1.min.js"></script>
      <script type="text/javascript" src="https://media.readthedocs.org/javascript/underscore.js"></script>
      <script type="text/javascript" src="https://media.readthedocs.org/javascript/doctools.js"></script>
      <script type="text/javascript" src="https://media.readthedocs.org/javascript/readthedocs-doc-embed.js"></script>

  

  
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>
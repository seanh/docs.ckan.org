<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The CKAN API &mdash; CKAN 2.2.3 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/fix.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/bootstrap-responsive.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="https://media.readthedocs.org/css/badge_only.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.2.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="https://media.readthedocs.org/javascript/jquery/jquery-2.0.3.min.js"></script>
    <script type="text/javascript" src="https://media.readthedocs.org/javascript/jquery/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="https://media.readthedocs.org/javascript/underscore.js"></script>
    <script type="text/javascript" src="https://media.readthedocs.org/javascript/doctools.js"></script>
    <script type="text/javascript" src="https://media.readthedocs.org/javascript/readthedocs-doc-embed.js"></script>
    <script type="text/javascript" src="_static/bootstrap-css-tweaks.js"></script>
    <link rel="top" title="CKAN 2.2.3 documentation" href="index.html" />
    <link rel="next" title="Legacy APIs" href="legacy-api.html" />
    <link rel="prev" title="Theming" href="theming.html" />

  
<!-- RTD Extra Head -->

<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link rel="canonical" href="http://docs.ckan.org/en/latest/api.html" />

<link rel="stylesheet" href="https://media.readthedocs.org/css/readthedocs-doc-embed.css" type="text/css" />

<script type="text/javascript" src="_static/readthedocs-data.js"></script>

<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = 'api'
</script>

<script type="text/javascript" src="_static/readthedocs-dynamic-include.js"></script>

<!-- end RTD <extrahead> --></head>
  <body>
  
  <div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container-fluid">
        
        <a class="logo-icon pull-left" href="contents.html"><img src="_static/ckanlogo.png" alt="CKAN" /></a>
        
        <a class="brand" href="contents.html">CKAN<span class="version"> v2.2.3</span></a>
        
        
        <a class="okfn-logo pull-right" href="http://okfn.org/" title="An Open Knowledge Foundation Project">
          <img src="https://s3.amazonaws.com/assets.okfn.org/p/okfn/img/logo_28x30.png" alt="Open Knowledge Foundation logo" />
        </a>
        
        
          
<form class="pull-right navbar-search" action="http://docs.ckan.org/en/ckan-2.2.3/search.html" method="get">
  <input type="text" name="q" placeholder="Search" class="search-query span2" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        
      </div>
    </div>
  </div>

<div class="container-fluid">
  <div class="row-fluid">
    <div class="span4">
      <div class="well sidebar-nav">
        
          
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><div class="widget toc">
  <h3>Table of Contents</h3>
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Welcome to CKAN&#8217;s Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-guide.html">User guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="sysadmin-guide.html">Sysadmin guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="installing.html">Installing CKAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrading.html">Upgrading CKAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="extensions/index.html">Writing CKAN extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="theming.html">Theming</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="api.html">The CKAN API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.html#making-an-api-request">Making an API request</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#example-importing-datasets-with-the-ckan-api">Example: Importing datasets with the CKAN API</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#api-versions">API versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#authentication-and-api-keys">Authentication and API keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#get-able-api-functions">GET-able API functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#jsonp-support">JSONP support</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#action-api-reference">Action API reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api.html#module-ckan.logic.action.get">ckan.logic.action.get</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html#module-ckan.logic.action.create">ckan.logic.action.create</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html#module-ckan.logic.action.update">ckan.logic.action.update</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html#module-ckan.logic.action.delete">ckan.logic.action.delete</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to CKAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="test.html">Testing CKAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Config File Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendices/index.html">Appendices</a></li>
</ul>

</div>

        </div>
      </div>
        
      </div><!--/.well -->
    </div><!--/span-->
    <div class="span8">
      <div class="content">

        
        <div style="font-size:smaller;">
              <a href="contents.html">CKAN 2.2.3 documentation</a> &raquo;
        </div>

        
  <div class="section" id="the-ckan-api">
<h1>The CKAN API<a class="headerlink" href="api.html#the-ckan-api" title="Permalink to this headline">¶</a></h1>
<p>CKAN&#8217;s <strong>Action API</strong> is a powerful, RPC-style API that exposes all of CKAN&#8217;s
core features to API clients. All of a CKAN website&#8217;s core functionality
(everything you can do with the web interface and more) can be used by external
code that calls the CKAN API.  For example, using the CKAN API your app can:</p>
<ul>
<li><p class="first">Get JSON-formatted lists of a site&#8217;s datasets, groups or other CKAN objects:</p>
<p><a class="reference external" href="http://demo.ckan.org/api/3/action/package_list">http://demo.ckan.org/api/3/action/package_list</a></p>
<p><a class="reference external" href="http://demo.ckan.org/api/3/action/group_list">http://demo.ckan.org/api/3/action/group_list</a></p>
<p><a class="reference external" href="http://demo.ckan.org/api/3/action/tag_list">http://demo.ckan.org/api/3/action/tag_list</a></p>
</li>
<li><p class="first">Get a full JSON representation of a dataset, resource or other object:</p>
<p><a class="reference external" href="http://demo.ckan.org/api/3/action/package_show?id=adur_district_spending">http://demo.ckan.org/api/3/action/package_show?id=adur_district_spending</a></p>
<p><a class="reference external" href="http://demo.ckan.org/api/3/action/tag_show?id=gold">http://demo.ckan.org/api/3/action/tag_show?id=gold</a></p>
<p><a class="reference external" href="http://demo.ckan.org/api/3/action/group_show?id=data-explorer">http://demo.ckan.org/api/3/action/group_show?id=data-explorer</a></p>
</li>
<li><p class="first">Search for packages or resources matching a query:</p>
<p><a class="reference external" href="http://demo.ckan.org/api/3/action/package_search?q=spending">http://demo.ckan.org/api/3/action/package_search?q=spending</a></p>
<p><a class="reference external" href="http://demo.ckan.org/api/3/action/resource_search?query=name:District%20Names">http://demo.ckan.org/api/3/action/resource_search?query=name:District%20Names</a></p>
</li>
<li><p class="first">Create, update and delete datasets, resources and other objects</p>
</li>
<li><p class="first">Get an activity stream of recently changed datasets on a site:</p>
<p><a class="reference external" href="http://demo.ckan.org/api/3/action/recently_changed_packages_activity_list">http://demo.ckan.org/api/3/action/recently_changed_packages_activity_list</a></p>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>CKAN&#8217;s FileStore and DataStore have their own APIs, see:</p>
<ul class="last simple">
<li><a class="reference internal" href="filestore.html"><em>FileStore and file uploads</em></a></li>
<li><a class="reference internal" href="datastore.html"><em>DataStore extension</em></a></li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For documentation of CKAN&#8217;s legacy API&#8217;s, see <a class="reference internal" href="legacy-api.html"><em>Legacy APIs</em></a>.</p>
</div>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="making-an-api-request">
<h2>Making an API request<a class="headerlink" href="api.html#making-an-api-request" title="Permalink to this headline">¶</a></h2>
<p>To call the CKAN API, post a JSON dictionary in an HTTP POST request to one of
CKAN&#8217;s API URLs. The parameters for the API function should be given in the
JSON dictionary. CKAN will also return its response in a JSON dictionary.</p>
<p>One way to post a JSON dictionary to a URL is using the command-line HTTP
client <a class="reference external" href="http://httpie.org/">HTTPie</a>.  For example, to get a list of the names
of all the datasets in the <tt class="docutils literal"><span class="pre">data-explorer</span></tt> group on demo.ckan.org, install
HTTPie and then call the <tt class="docutils literal"><span class="pre">group_list</span></tt> API function by running this command
in a terminal:</p>
<div class="highlight-python"><div class="highlight"><pre>http http://demo.ckan.org/api/3/action/group_list id=data-explorer
</pre></div>
</div>
<p>The response from CKAN will look like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;help&quot;</span><span class="p">:</span> <span class="s">&quot;...&quot;</span><span class="p">,</span>
    <span class="s">&quot;result&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">&quot;data-explorer&quot;</span><span class="p">,</span>
        <span class="s">&quot;department-of-ricky&quot;</span><span class="p">,</span>
        <span class="s">&quot;geo-examples&quot;</span><span class="p">,</span>
        <span class="s">&quot;geothermal-data&quot;</span><span class="p">,</span>
        <span class="s">&quot;reykjavik&quot;</span><span class="p">,</span>
        <span class="s">&quot;skeenawild-conservation-trust&quot;</span>
    <span class="p">],</span>
    <span class="s">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The response is a JSON dictionary with three keys:</p>
<ol class="arabic">
<li><p class="first"><tt class="docutils literal"><span class="pre">&quot;sucess&quot;</span></tt>: <tt class="docutils literal"><span class="pre">true</span></tt> or <tt class="docutils literal"><span class="pre">false</span></tt>.</p>
<p>The API aims to always return <tt class="docutils literal"><span class="pre">200</span> <span class="pre">OK</span></tt> as the status code of its HTTP
response, whether there were errors with the request or not, so it&#8217;s
important to always check the value of the <tt class="docutils literal"><span class="pre">&quot;success&quot;</span></tt> key in the response
dictionary and (if success is <tt class="docutils literal"><span class="pre">false</span></tt>) check the value of the <tt class="docutils literal"><span class="pre">&quot;error&quot;</span></tt>
key.</p>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If there are major formatting problems with a request to the API, CKAN
may still return an HTTP response with a <tt class="docutils literal"><span class="pre">409</span></tt>, <tt class="docutils literal"><span class="pre">400</span></tt> or <tt class="docutils literal"><span class="pre">500</span></tt>
status code (in increasing order of severity). In future CKAN versions
we intend to remove these responses, and instead send a <tt class="docutils literal"><span class="pre">200</span> <span class="pre">OK</span></tt>
response and use the <tt class="docutils literal"><span class="pre">&quot;success&quot;</span></tt> and <tt class="docutils literal"><span class="pre">&quot;error&quot;</span></tt> items.</p>
</div>
<ol class="arabic" start="2">
<li><p class="first"><tt class="docutils literal"><span class="pre">&quot;result&quot;</span></tt>: the returned result from the function you called. The type
and value of the result depend on which function you called. In the case of
the <tt class="docutils literal"><span class="pre">group_list</span></tt> function it&#8217;s a list of strings, the names of all the
datasets that belong to the group.</p>
<p>If there was an error responding to your request, the dictionary will
contain an <tt class="docutils literal"><span class="pre">&quot;error&quot;</span></tt> key with details of the error instead of the
<tt class="docutils literal"><span class="pre">&quot;result&quot;</span></tt> key. A response dictionary containing an error will look like
this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;help&quot;</span><span class="p">:</span> <span class="s">&quot;Creates a package&quot;</span><span class="p">,</span>
    <span class="s">&quot;success&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s">&quot;error&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;message&quot;</span><span class="p">:</span> <span class="s">&quot;Access denied&quot;</span><span class="p">,</span>
        <span class="s">&quot;__type&quot;</span><span class="p">:</span> <span class="s">&quot;Authorization Error&quot;</span>
        <span class="p">}</span>
 <span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">&quot;help&quot;</span></tt>: the documentation string for the function you called.</p>
</li>
</ol>
<p>The same HTTP request can be made using Python&#8217;s standard <tt class="docutils literal"><span class="pre">urllib2</span></tt> module,
with this Python code:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#!/usr/bin/env python</span>
<span class="kn">import</span> <span class="nn">urllib2</span>
<span class="kn">import</span> <span class="nn">urllib</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">pprint</span>

<span class="c"># Use the json module to dump a dictionary to a string for posting.</span>
<span class="n">data_string</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">quote</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">&#39;id&#39;</span><span class="p">:</span> <span class="s">&#39;data-explorer&#39;</span><span class="p">}))</span>

<span class="c"># Make the HTTP request.</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="s">&#39;http://demo.ckan.org/api/3/action/group_list&#39;</span><span class="p">,</span>
        <span class="n">data_string</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">response</span><span class="o">.</span><span class="n">code</span> <span class="o">==</span> <span class="mi">200</span>

<span class="c"># Use the json module to load CKAN&#39;s response into a dictionary.</span>
<span class="n">response_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>

<span class="c"># Check the contents of the response.</span>
<span class="k">assert</span> <span class="n">response_dict</span><span class="p">[</span><span class="s">&#39;success&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="bp">True</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">response_dict</span><span class="p">[</span><span class="s">&#39;result&#39;</span><span class="p">]</span>
<span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="example-importing-datasets-with-the-ckan-api">
<h2>Example: Importing datasets with the CKAN API<a class="headerlink" href="api.html#example-importing-datasets-with-the-ckan-api" title="Permalink to this headline">¶</a></h2>
<p>You can add datasets using CKAN&#8217;s web interface, but when importing many
datasets it&#8217;s usually more efficient to automate the process in some way.  In
this example, we&#8217;ll show you how to use the CKAN API to write a Python script
to import datasets into CKAN.</p>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">Make this script more interesting (eg. read data from a CSV file), and all
put the script in a .py file somewhere with tests and import it here.</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#!/usr/bin/env python</span>
<span class="kn">import</span> <span class="nn">urllib2</span>
<span class="kn">import</span> <span class="nn">urllib</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">pprint</span>

<span class="c"># Put the details of the dataset we&#39;re going to create into a dict.</span>
<span class="n">dataset_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;my_dataset_name&#39;</span><span class="p">,</span>
    <span class="s">&#39;notes&#39;</span><span class="p">:</span> <span class="s">&#39;A long description of my dataset&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c"># Use the json module to dump the dictionary to a string for posting.</span>
<span class="n">data_string</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">quote</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">dataset_dict</span><span class="p">))</span>

<span class="c"># We&#39;ll use the package_create function to create a new dataset.</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span>
    <span class="s">&#39;http://www.my_ckan_site.com/api/action/package_create&#39;</span><span class="p">)</span>

<span class="c"># Creating a dataset requires an authorization header.</span>
<span class="c"># Replace *** with your API key, from your user account on the CKAN site</span>
<span class="c"># that you&#39;re creating the dataset on.</span>
<span class="n">request</span><span class="o">.</span><span class="n">add_header</span><span class="p">(</span><span class="s">&#39;Authorization&#39;</span><span class="p">,</span> <span class="s">&#39;***&#39;</span><span class="p">)</span>

<span class="c"># Make the HTTP request.</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">data_string</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">response</span><span class="o">.</span><span class="n">code</span> <span class="o">==</span> <span class="mi">200</span>

<span class="c"># Use the json module to load CKAN&#39;s response into a dictionary.</span>
<span class="n">response_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="k">assert</span> <span class="n">response_dict</span><span class="p">[</span><span class="s">&#39;success&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="bp">True</span>

<span class="c"># package_create returns the created package as its result.</span>
<span class="n">created_package</span> <span class="o">=</span> <span class="n">response_dict</span><span class="p">[</span><span class="s">&#39;result&#39;</span><span class="p">]</span>
<span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">created_package</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="api-versions">
<h2>API versions<a class="headerlink" href="api.html#api-versions" title="Permalink to this headline">¶</a></h2>
<p>The CKAN APIs are versioned. If you make a request to an API URL without a
version number, CKAN will choose the latest version of the API:</p>
<div class="highlight-python"><div class="highlight"><pre>http://demo.ckan.org/api/action/package_list
</pre></div>
</div>
<p>Alternatively, you can specify the desired API version number in the URL that
you request:</p>
<div class="highlight-python"><div class="highlight"><pre>http://demo.ckan.org/api/3/action/package_list
</pre></div>
</div>
<p>Version 3 is currently the only version of the Action API.</p>
<p>We recommend that you specify the API number in your requests, because this
ensures that your API client will work across different sites running different
version of CKAN (and will keep working on the same sites, when those sites
upgrade to new versions of CKAN). Because the latest version of the API may
change when a site is upgraded to a new version of CKAN, or may differ on
different sites running different versions of CKAN, the result of an API
request that doesn&#8217;t specify the API version number cannot be relied on.</p>
</div>
<div class="section" id="authentication-and-api-keys">
<span id="api-authentication"></span><h2>Authentication and API keys<a class="headerlink" href="api.html#authentication-and-api-keys" title="Permalink to this headline">¶</a></h2>
<p>Some API functions require authorization. The API uses the same authorization
functions and configuration as the web interface, so if a user is authorized to
do something in the web interface they&#8217;ll be authorized to do it via the API as
well.</p>
<p>When calling an API function that requires authorization, you must authenticate
yourself by providing your API key with your HTTP request. To find your API
key, login to the CKAN site using its web interface and visit your user profile
page.</p>
<p>To provide your API key in an HTTP request, include it in either an
<tt class="docutils literal"><span class="pre">Authorization</span></tt> or <tt class="docutils literal"><span class="pre">X-CKAN-API-Key</span></tt> header.  (The name of the HTTP header
can be configured with the <tt class="docutils literal"><span class="pre">apikey_header_name</span></tt> option in your CKAN
configuration file.)</p>
<p>For example, to ask whether or not you&#8217;re currently following the user
<tt class="docutils literal"><span class="pre">markw</span></tt> on demo.ckan.org using HTTPie, run this command:</p>
<div class="highlight-python"><div class="highlight"><pre>http http://demo.ckan.org/api/3/action/am_following_user id=markw Authorization:XXX
</pre></div>
</div>
<p>(Replacing <tt class="docutils literal"><span class="pre">XXX</span></tt> with your API key.)</p>
<p>Or, to get the list of activities from your user dashboard on demo.ckan.org,
run this Python code:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">request</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span><span class="s">&#39;http://demo.ckan.org/api/3/action/dashboard_activity_list&#39;</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">add_header</span><span class="p">(</span><span class="s">&#39;Authorization&#39;</span><span class="p">,</span> <span class="s">&#39;XXX&#39;</span><span class="p">)</span>
<span class="n">response_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">&#39;{}&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="section" id="get-able-api-functions">
<h2>GET-able API functions<a class="headerlink" href="api.html#get-able-api-functions" title="Permalink to this headline">¶</a></h2>
<p>Functions defined in <a class="reference internal" href="api.html#ckan-logic-action-get">ckan.logic.action.get</a> can also be called with an HTTP
GET request.  For example, to get the list of datasets (packages) from
demo.ckan.org, open this URL in your browser:</p>
<p><a class="reference external" href="http://demo.ckan.org/api/3/action/package_list">http://demo.ckan.org/api/3/action/package_list</a></p>
<p>Or, to search for datasets (packages) matching the search query <tt class="docutils literal"><span class="pre">spending</span></tt>,
on demo.ckan.org, open this URL in your browser:</p>
<p><a class="reference external" href="http://demo.ckan.org/api/3/action/package_search?q=spending">http://demo.ckan.org/api/3/action/package_search?q=spending</a></p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Browser plugins like <a class="reference external" href="https://addons.mozilla.org/en-us/firefox/addon/jsonview/">JSONView for Firefox</a>
or <a class="reference external" href="https://chrome.google.com/webstore/detail/jsonview/chklaanhfefbnpoihckbnefhakgolnmc">Chrome</a>
will format and color CKAN&#8217;s JSON response nicely in your browser.</p>
</div>
<p>The search query is given as a URL parameter <tt class="docutils literal"><span class="pre">?q=spending</span></tt>. Multiple
URL parameters can be appended, separated by <tt class="docutils literal"><span class="pre">&amp;</span></tt> characters, for example
to get only the first 10 matching datasets open this URL:</p>
<p><a class="reference external" href="http://demo.ckan.org/api/3/action/package_search?q=spending&amp;rows=10">http://demo.ckan.org/api/3/action/package_search?q=spending&amp;rows=10</a></p>
<p>When an action requires a list of strings as the value of a parameter, the
value can be sent by giving the parameter multiple times in the URL:</p>
<p><a class="reference external" href="http://demo.ckan.org/api/3/action/term_translation_show?terms=russian&amp;terms=romantic%20novel">http://demo.ckan.org/api/3/action/term_translation_show?terms=russian&amp;terms=romantic%20novel</a></p>
</div>
<div class="section" id="jsonp-support">
<h2>JSONP support<a class="headerlink" href="api.html#jsonp-support" title="Permalink to this headline">¶</a></h2>
<p>To cater for scripts from other sites that wish to access the API, the data can
be returned in JSONP format, where the JSON data is &#8216;padded&#8217; with a function
call. The function is named in the &#8216;callback&#8217; parameter. For example:</p>
<p><a class="reference external" href="http://demo.ckan.org/api/3/action/package_show?id=adur_district_spending&amp;callback=myfunction">http://demo.ckan.org/api/3/action/package_show?id=adur_district_spending&amp;callback=myfunction</a></p>
<div class="admonition-todo admonition" id="index-1">
<p class="first admonition-title">Todo</p>
<p class="last">This doesn&#8217;t work with all functions.</p>
</div>
</div>
<div class="section" id="action-api-reference">
<span id="api-reference"></span><h2>Action API reference<a class="headerlink" href="api.html#action-api-reference" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If you call one of the action functions listed below and the function
raises an exception, the API will return a JSON dictionary with keys
<tt class="docutils literal"><span class="pre">&quot;success&quot;:</span> <span class="pre">false</span></tt> and and an <tt class="docutils literal"><span class="pre">&quot;error&quot;</span></tt> key indicating the exception
that was raised.</p>
<p>For example <a class="reference internal" href="api.html#ckan.logic.action.get.member_list" title="ckan.logic.action.get.member_list"><tt class="xref py py-func docutils literal"><span class="pre">member_list()</span></tt></a> (which returns a
list of the members of a group) raises <tt class="xref py py-class docutils literal"><span class="pre">NotFound</span></tt> if
the group doesn&#8217;t exist. If you called it over the API, you&#8217;d get back a
JSON dict like this:</p>
<div class="last highlight-python"><div class="highlight"><pre>{
    &quot;success&quot;: false
    &quot;error&quot;: {
        &quot;__type&quot;: &quot;Not Found Error&quot;,
        &quot;message&quot;: &quot;Not found&quot;
    },
    &quot;help&quot;: &quot;...&quot;,
}
</pre></div>
</div>
</div>
<div class="section" id="module-ckan.logic.action.get">
<span id="ckan-logic-action-get"></span><h3>ckan.logic.action.get<a class="headerlink" href="api.html#module-ckan.logic.action.get" title="Permalink to this headline">¶</a></h3>
<p>API functions for searching for and getting data from CKAN.</p>
<dl class="function">
<dt id="ckan.logic.action.get.site_read">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">site_read</tt><big>(</big><em>context</em>, <em>data_dict=None</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.site_read" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.package_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">package_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.package_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of the names of the site&#8217;s datasets (packages).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>limit</strong> (<em>int</em>) &#8211; if given, the list of datasets will be broken into pages of
at most <tt class="docutils literal"><span class="pre">limit</span></tt> datasets per page and only one page will be returned
at a time (optional)</li>
<li><strong>offset</strong> (<em>int</em>) &#8211; when <tt class="docutils literal"><span class="pre">limit</span></tt> is given, the offset to start returning packages from</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of strings</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.current_package_list_with_resources">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">current_package_list_with_resources</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.current_package_list_with_resources" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of the site&#8217;s datasets (packages) and their resources.</p>
<p>The list is sorted most-recently-modified first.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>limit</strong> (<em>int</em>) &#8211; if given, the list of datasets will be broken into pages of
at most <tt class="docutils literal"><span class="pre">limit</span></tt> datasets per page and only one page will be returned
at a time (optional)</li>
<li><strong>offset</strong> (<em>int</em>) &#8211; when <tt class="docutils literal"><span class="pre">limit</span></tt> is given, the offset to start returning packages from</li>
<li><strong>page</strong> (<em>int</em>) &#8211; when <tt class="docutils literal"><span class="pre">limit</span></tt> is given, which page to return, Deprecated use <tt class="docutils literal"><span class="pre">offset</span></tt></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of dictionaries</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.revision_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">revision_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.revision_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of the IDs of the site&#8217;s revisions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of strings</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.package_revision_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">package_revision_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.package_revision_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dataset (package)&#8217;s revisions as a list of dictionaries.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or name of the dataset</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.related_show">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">related_show</tt><big>(</big><em>context</em>, <em>data_dict=None</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.related_show" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single related item.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id of the related item to show</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.related_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">related_list</tt><big>(</big><em>context</em>, <em>data_dict=None</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.related_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dataset&#8217;s related items.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>string</em>) &#8211; id or name of the dataset (optional)</li>
<li><strong>dataset</strong> (<em>dictionary</em>) &#8211; dataset dictionary of the dataset (optional)</li>
<li><strong>type_filter</strong> (<em>string</em>) &#8211; the type of related item to show (optional,
default: None, show all items)</li>
<li><strong>sort</strong> (<em>string</em>) &#8211; the order to sort the related items in, possible values are
&#8216;view_count_asc&#8217;, &#8216;view_count_desc&#8217;, &#8216;created_asc&#8217; or &#8216;created_desc&#8217;
(optional)</li>
<li><strong>featured</strong> (<em>bool</em>) &#8211; whether or not to restrict the results to only featured
related items (optional, default: False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of dictionaries</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.member_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">member_list</tt><big>(</big><em>context</em>, <em>data_dict=None</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.member_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the members of a group.</p>
<p>The user must have permission to &#8216;get&#8217; the group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>string</em>) &#8211; the id or name of the group</li>
<li><strong>object_type</strong> (<em>string</em>) &#8211; restrict the members returned to those of a given type,
e.g. <tt class="docutils literal"><span class="pre">'user'</span></tt> or <tt class="docutils literal"><span class="pre">'package'</span></tt> (optional, default: <tt class="docutils literal"><span class="pre">None</span></tt>)</li>
<li><strong>capacity</strong> (<em>string</em>) &#8211; restrict the members returned to those with a given
capacity, e.g. <tt class="docutils literal"><span class="pre">'member'</span></tt>, <tt class="docutils literal"><span class="pre">'editor'</span></tt>, <tt class="docutils literal"><span class="pre">'admin'</span></tt>, <tt class="docutils literal"><span class="pre">'public'</span></tt>,
<tt class="docutils literal"><span class="pre">'private'</span></tt> (optional, default: <tt class="docutils literal"><span class="pre">None</span></tt>)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">list of (id, type, capacity) tuples</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><tt class="xref py py-class docutils literal"><span class="pre">ckan.logic.NotFound</span></tt>: if the group doesn&#8217;t exist</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.group_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">group_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.group_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of the names of the site&#8217;s groups.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>order_by</strong> (<em>string</em>) &#8211; the field to sort the list by, must be <tt class="docutils literal"><span class="pre">'name'</span></tt> or
<tt class="docutils literal"><span class="pre">'packages'</span></tt> (optional, default: <tt class="docutils literal"><span class="pre">'name'</span></tt>) Deprecated use sort.</li>
<li><strong>sort</strong> (<em>string</em>) &#8211; sorting of the search results.  Optional.  Default:
&#8220;name asc&#8221; string of field name and sort-order. The allowed fields are
&#8216;name&#8217; and &#8216;packages&#8217;</li>
<li><strong>groups</strong> (<em>list of strings</em>) &#8211; a list of names of the groups to return, if given only
groups whose names are in this list will be returned (optional)</li>
<li><strong>all_fields</strong> (<em>boolean</em>) &#8211; return full group dictionaries instead of  just names
(optional, default: <tt class="docutils literal"><span class="pre">False</span></tt>)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of strings</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.organization_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">organization_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.organization_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of the names of the site&#8217;s organizations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>order_by</strong> (<em>string</em>) &#8211; the field to sort the list by, must be <tt class="docutils literal"><span class="pre">'name'</span></tt> or
<tt class="docutils literal"><span class="pre">'packages'</span></tt> (optional, default: <tt class="docutils literal"><span class="pre">'name'</span></tt>) Deprecated use sort.</li>
<li><strong>sort</strong> (<em>string</em>) &#8211; sorting of the search results.  Optional.  Default:
&#8220;name asc&#8221; string of field name and sort-order. The allowed fields are
&#8216;name&#8217; and &#8216;packages&#8217;</li>
<li><strong>organizations</strong> (<em>list of strings</em>) &#8211; a list of names of the groups to return, if given only
groups whose names are in this list will be returned (optional)</li>
<li><strong>all_fields</strong> (<em>boolean</em>) &#8211; return full group dictionaries instead of  just names
(optional, default: <tt class="docutils literal"><span class="pre">False</span></tt>)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of strings</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.group_list_authz">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">group_list_authz</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.group_list_authz" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of groups that the user is authorized to edit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>available_only</strong> (<em>boolean</em>) &#8211; remove the existing groups in the package
(optional, default: <tt class="docutils literal"><span class="pre">False</span></tt>)</li>
<li><strong>am_member</strong> &#8211; if True return only the groups the logged-in user is a
member of, otherwise return all groups that the user is authorized to
edit (for example, sysadmin users are authorized to edit all groups)
(optional, default: False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of dictized groups that the user is authorized to edit</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of dicts</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.organization_list_for_user">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">organization_list_for_user</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.organization_list_for_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of organizations that the user is a member of.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>permission</strong> (<em>string</em>) &#8211; the permission the user has against the returned organizations
(optional, default: <tt class="docutils literal"><span class="pre">edit_group</span></tt>)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list of dictized organizations that the user is authorized to edit</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of dicts</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.group_revision_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">group_revision_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.group_revision_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a group&#8217;s revisions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the name or id of the group</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list of dictionaries</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.organization_revision_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">organization_revision_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.organization_revision_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an organization&#8217;s revisions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the name or id of the organization</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list of dictionaries</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.license_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">license_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.license_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of licenses available for datasets on the site.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of dictionaries</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.tag_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">tag_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.tag_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of the site&#8217;s tags.</p>
<p>By default only free tags (tags that don&#8217;t belong to a vocabulary) are
returned. If the <tt class="docutils literal"><span class="pre">vocabulary_id</span></tt> argument is given then only tags
belonging to that vocabulary will be returned instead.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>query</strong> (<em>string</em>) &#8211; a tag name query to search for, if given only tags whose
names contain this string will be returned (optional)</li>
<li><strong>vocabulary_id</strong> (<em>string</em>) &#8211; the id or name of a vocabulary, if give only tags
that belong to this vocabulary will be returned (optional)</li>
<li><strong>all_fields</strong> (<em>boolean</em>) &#8211; return full tag dictionaries instead of just names
(optional, default: <tt class="docutils literal"><span class="pre">False</span></tt>)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of dictionaries</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.user_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">user_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.user_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of the site&#8217;s user accounts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>q</strong> (<em>string</em>) &#8211; restrict the users returned to those whose names contain a string
(optional)</li>
<li><strong>order_by</strong> (<em>string</em>) &#8211; which field to sort the list by (optional, default:
<tt class="docutils literal"><span class="pre">'name'</span></tt>)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of dictionaries</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.package_relationships_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">package_relationships_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.package_relationships_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dataset (package)&#8217;s relationships.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>string</em>) &#8211; the id or name of the first package</li>
<li><strong>id2</strong> &#8211; the id or name of the second package</li>
<li><strong>rel</strong> &#8211; relationship as string see
<a class="reference internal" href="api.html#ckan.logic.action.create.package_relationship_create" title="ckan.logic.action.create.package_relationship_create"><tt class="xref py py-func docutils literal"><span class="pre">ckan.logic.action.create.package_relationship_create()</span></tt></a> for the
relationship types (optional)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of dictionaries</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.package_show">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">package_show</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.package_show" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the metadata of a dataset (package) and its resources.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>string</em>) &#8211; the id or name of the dataset</li>
<li><strong>use_default_schema</strong> (<em>bool</em>) &#8211; use default package schema instead of
a custom schema defined with an IDatasetForm plugin (default: False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.resource_show">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">resource_show</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.resource_show" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the metadata of a resource.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id of the resource</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.resource_status_show">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">resource_status_show</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.resource_status_show" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the statuses of a resource&#8217;s tasks.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id of the resource</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list of (status, date_done, traceback, task_status) dictionaries</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.revision_show">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">revision_show</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.revision_show" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the details of a revision.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id of the revision</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.group_show">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">group_show</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.group_show" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the details of a group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>boolean</em>) &#8211; the id or name of the group</li>
<li><strong>include_datasets</strong> &#8211; include a list of the group&#8217;s datasets
(optional, default: <tt class="docutils literal"><span class="pre">True</span></tt>)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Only its first 1000 datasets are returned</p>
</div>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.organization_show">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">organization_show</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.organization_show" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the details of a organization.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>boolean</em>) &#8211; the id or name of the organization</li>
<li><strong>include_datasets</strong> &#8211; include a list of the organization&#8217;s datasets
(optional, default: <tt class="docutils literal"><span class="pre">True</span></tt>)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Only its first 1000 datasets are returned</p>
</div>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.group_package_show">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">group_package_show</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.group_package_show" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the datasets (packages) of a group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>string</em>) &#8211; the id or name of the group</li>
<li><strong>limit</strong> (<em>int</em>) &#8211; the maximum number of datasets to return (optional)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of dictionaries</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.tag_show">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">tag_show</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.tag_show" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the details of a tag and all its datasets.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the name or id of the tag</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the details of the tag, including a list of all of the tag&#8217;s
datasets and their details</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.user_show">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">user_show</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.user_show" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a user account.</p>
<p>Either the <tt class="docutils literal"><span class="pre">id</span></tt> or the <tt class="docutils literal"><span class="pre">user_obj</span></tt> parameter must be given.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>string</em>) &#8211; the id or name of the user (optional)</li>
<li><strong>user_obj</strong> (<em>user dictionary</em>) &#8211; the user dictionary of the user (optional)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.package_autocomplete">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">package_autocomplete</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.package_autocomplete" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of datasets (packages) that match a string.</p>
<p>Datasets with names or titles that contain the query string will be
returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>q</strong> (<em>string</em>) &#8211; the string to search for</li>
<li><strong>limit</strong> (<em>int</em>) &#8211; the maximum number of resource formats to return (optional,
default: 10)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of dictionaries</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.format_autocomplete">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">format_autocomplete</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.format_autocomplete" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of resource formats whose names contain a string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>q</strong> (<em>string</em>) &#8211; the string to search for</li>
<li><strong>limit</strong> (<em>int</em>) &#8211; the maximum number of resource formats to return (optional,
default: 5)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of strings</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.user_autocomplete">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">user_autocomplete</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.user_autocomplete" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of user names that contain a string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>q</strong> (<em>string</em>) &#8211; the string to search for</li>
<li><strong>limit</strong> (<em>int</em>) &#8211; the maximum number of user names to return (optional,
default: 20)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">a list of user dictionaries each with keys <tt class="docutils literal"><span class="pre">'name'</span></tt>,
<tt class="docutils literal"><span class="pre">'fullname'</span></tt>, and <tt class="docutils literal"><span class="pre">'id'</span></tt></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.package_search">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">package_search</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.package_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches for packages satisfying a given search criteria.</p>
<p>This action accepts solr search query parameters (details below), and
returns a dictionary of results, including dictized datasets that match
the search criteria, a search count and also facet information.</p>
<p><strong>Solr Parameters:</strong></p>
<p>For more in depth treatment of each paramter, please read the <a class="reference external" href="http://wiki.apache.org/solr/CommonQueryParameters">Solr
Documentation</a>.</p>
<p>This action accepts a <em>subset</em> of solr&#8217;s search query parameters:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>q</strong> (<em>string</em>) &#8211; the solr query.  Optional.  Default: <cite>&#8220;*:*&#8221;</cite></li>
<li><strong>fq</strong> (<em>string</em>) &#8211; any filter queries to apply.  Note: <cite>+site_id:{ckan_site_id}</cite>
is added to this string prior to the query being executed.</li>
<li><strong>sort</strong> (<em>string</em>) &#8211; sorting of the search results.  Optional.  Default:
&#8216;relevance asc, metadata_modified desc&#8217;.  As per the solr
documentation, this is a comma-separated string of field names and
sort-orderings.</li>
<li><strong>rows</strong> (<em>int</em>) &#8211; the number of matching rows to return.</li>
<li><strong>start</strong> (<em>int</em>) &#8211; the offset in the complete result for where the set of
returned datasets should begin.</li>
<li><strong>facet</strong> (<em>string</em>) &#8211; whether to enable faceted results.  Default: &#8220;true&#8221;.</li>
<li><strong>facet.mincount</strong> (<em>int</em>) &#8211; the minimum counts for facet fields should be
included in the results.</li>
<li><strong>facet.limit</strong> (<em>int</em>) &#8211; the maximum number of values the facet fields return.
A negative value means unlimited. This can be set instance-wide with
the <a class="reference internal" href="configuration.html#search-facets-limit"><em>search.facets.limit</em></a> config option. Default is 50.</li>
<li><strong>facet.field</strong> (<em>list of strings</em>) &#8211; the fields to facet upon.  Default empty.  If empty,
then the returned facet information is empty.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The following advanced Solr parameters are supported as well. Note that
some of these are only available on particular Solr versions. See Solr&#8217;s
<a class="reference external" href="http://wiki.apache.org/solr/DisMaxQParserPlugin">dismax</a> and <a class="reference external" href="http://wiki.apache.org/solr/ExtendedDisMax">edismax</a> documentation for further details on them:</p>
<p><tt class="docutils literal"><span class="pre">qf</span></tt>, <tt class="docutils literal"><span class="pre">wt</span></tt>, <tt class="docutils literal"><span class="pre">bf</span></tt>, <tt class="docutils literal"><span class="pre">boost</span></tt>, <tt class="docutils literal"><span class="pre">tie</span></tt>, <tt class="docutils literal"><span class="pre">defType</span></tt>, <tt class="docutils literal"><span class="pre">mm</span></tt></p>
<p><strong>Results:</strong></p>
<p>The result of this action is a dict with the following keys:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">A dictionary with the following keys</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>count</strong> (<em>int</em>) &#8211; the number of results found.  Note, this is the total number
of results found, not the total number of results returned (which is
affected by limit and row parameters used in the input).</li>
<li><strong>results</strong> (<em>list of dictized datasets.</em>) &#8211; ordered list of datasets matching the query, where the
ordering defined by the sort parameter used in the query.</li>
<li><strong>facets</strong> (<em>DEPRECATED dict</em>) &#8211; DEPRECATED.  Aggregated information about facet counts.</li>
<li><strong>search_facets</strong> (<em>nested dict of dicts.</em>) &#8211; aggregated information about facet counts.  The outer
dict is keyed by the facet field name (as used in the search query).
Each entry of the outer dict is itself a dict, with a &#8220;title&#8221; key, and
an &#8220;items&#8221; key.  The &#8220;items&#8221; key&#8217;s value is a list of dicts, each with
&#8220;count&#8221;, &#8220;display_name&#8221; and &#8220;name&#8221; entries.  The display_name is a
form of the name that can be used in titles.</li>
<li><strong>use_default_schema</strong> (<em>bool</em>) &#8211; use default package schema instead of
a custom schema defined with an IDatasetForm plugin (default: False)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>An example result:</p>
<div class="highlight-python"><div class="highlight"><pre>{&#39;count&#39;: 2,
 &#39;results&#39;: [ { &lt;snip&gt; }, { &lt;snip&gt; }],
 &#39;search_facets&#39;: {u&#39;tags&#39;: {&#39;items&#39;: [{&#39;count&#39;: 1,
                                        &#39;display_name&#39;: u&#39;tolstoy&#39;,
                                        &#39;name&#39;: u&#39;tolstoy&#39;},
                                       {&#39;count&#39;: 2,
                                        &#39;display_name&#39;: u&#39;russian&#39;,
                                        &#39;name&#39;: u&#39;russian&#39;}
                                      ]
                            }
                  }
}
</pre></div>
</div>
<p><strong>Limitations:</strong></p>
<p>The full solr query language is not exposed, including.</p>
<dl class="docutils">
<dt>fl</dt>
<dd>The parameter that controls which fields are returned in the solr
query cannot be changed.  CKAN always returns the matched datasets as
dictionary objects.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.resource_search">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">resource_search</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.resource_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches for resources satisfying a given search criteria.</p>
<p>It returns a dictionary with 2 fields: <tt class="docutils literal"><span class="pre">count</span></tt> and <tt class="docutils literal"><span class="pre">results</span></tt>.  The
<tt class="docutils literal"><span class="pre">count</span></tt> field contains the total number of Resources found without the
limit or query parameters having an effect.  The <tt class="docutils literal"><span class="pre">results</span></tt> field is a
list of dictized Resource objects.</p>
<p>The &#8216;query&#8217; parameter is a required field.  It is a string of the form
<tt class="docutils literal"><span class="pre">{field}:{term}</span></tt> or a list of strings, each of the same form.  Within
each string, <tt class="docutils literal"><span class="pre">{field}</span></tt> is a field or extra field on the Resource domain
object.</p>
<p>If <tt class="docutils literal"><span class="pre">{field}</span></tt> is <tt class="docutils literal"><span class="pre">&quot;hash&quot;</span></tt>, then an attempt is made to match the
<cite>{term}</cite> as a <em>prefix</em> of the <tt class="docutils literal"><span class="pre">Resource.hash</span></tt> field.</p>
<p>If <tt class="docutils literal"><span class="pre">{field}</span></tt> is an extra field, then an attempt is made to match against
the extra fields stored against the Resource.</p>
<p>Note: The search is limited to search against extra fields declared in
the config setting <tt class="docutils literal"><span class="pre">ckan.extra_resource_fields</span></tt>.</p>
<p>Note: Due to a Resource&#8217;s extra fields being stored as a json blob, the
match is made against the json string representation.  As such, false
positives may occur:</p>
<p>If the search criteria is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">query</span> <span class="o">=</span> <span class="s">&quot;field1:term1&quot;</span>
</pre></div>
</div>
<p>Then a json blob with the string representation of:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span><span class="s">&quot;field1&quot;</span><span class="p">:</span> <span class="s">&quot;foo&quot;</span><span class="p">,</span> <span class="s">&quot;field2&quot;</span><span class="p">:</span> <span class="s">&quot;term1&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>will match the search criteria!  This is a known short-coming of this
approach.</p>
<p>All matches are made ignoring case; and apart from the <tt class="docutils literal"><span class="pre">&quot;hash&quot;</span></tt> field,
a term matches if it is a substring of the field&#8217;s value.</p>
<p>Finally, when specifying more than one search criteria, the criteria are
AND-ed together.</p>
<p>The <tt class="docutils literal"><span class="pre">order</span></tt> parameter is used to control the ordering of the results.
Currently only ordering one field is available, and in ascending order
only.</p>
<p>The <tt class="docutils literal"><span class="pre">fields</span></tt> parameter is deprecated as it is not compatible with calling
this action with a GET request to the action API.</p>
<p>The context may contain a flag, <cite>search_query</cite>, which if True will make
this action behave as if being used by the internal search api.  ie - the
results will not be dictized, and SearchErrors are thrown for bad search
queries (rather than ValidationErrors).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>query</strong> (<em>string or list of strings of the form &#8220;{field}:{term1}&#8221;</em>) &#8211; The search criteria.  See above for description.</li>
<li><strong>fields</strong> (<em>dict of fields to search terms.</em>) &#8211; Deprecated</li>
<li><strong>order_by</strong> (<em>string</em>) &#8211; A field on the Resource model that orders the results.</li>
<li><strong>offset</strong> (<em>int</em>) &#8211; Apply an offset to the query.</li>
<li><strong>limit</strong> (<em>int</em>) &#8211; Apply a limit to the query.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A dictionary with a <tt class="docutils literal"><span class="pre">count</span></tt> field, and a <tt class="docutils literal"><span class="pre">results</span></tt> field.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.tag_search">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">tag_search</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.tag_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of tags whose names contain a given string.</p>
<p>By default only free tags (tags that don&#8217;t belong to any vocabulary) are
searched. If the <tt class="docutils literal"><span class="pre">vocabulary_id</span></tt> argument is given then only tags
belonging to that vocabulary will be searched instead.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>query</strong> (<em>string or list of strings</em>) &#8211; the string(s) to search for</li>
<li><strong>vocabulary_id</strong> (<em>string</em>) &#8211; the id or name of the tag vocabulary to search in
(optional)</li>
<li><strong>fields</strong> (<em>dictionary</em>) &#8211; deprecated</li>
<li><strong>limit</strong> (<em>int</em>) &#8211; the maximum number of tags to return</li>
<li><strong>offset</strong> (<em>int</em>) &#8211; when <tt class="docutils literal"><span class="pre">limit</span></tt> is given, the offset to start returning tags
from</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>A dictionary with the following keys:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">'count'</span></tt></dt>
<dd><p class="first last">The number of tags in the result.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">'results'</span></tt></dt>
<dd><p class="first last">The list of tags whose names contain the given string, a list of
dictionaries.</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.tag_autocomplete">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">tag_autocomplete</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.tag_autocomplete" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of tag names that contain a given string.</p>
<p>By default only free tags (tags that don&#8217;t belong to any vocabulary) are
searched. If the <tt class="docutils literal"><span class="pre">vocabulary_id</span></tt> argument is given then only tags
belonging to that vocabulary will be searched instead.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>query</strong> (<em>string</em>) &#8211; the string to search for</li>
<li><strong>vocabulary_id</strong> (<em>string</em>) &#8211; the id or name of the tag vocabulary to search in
(optional)</li>
<li><strong>fields</strong> (<em>dictionary</em>) &#8211; deprecated</li>
<li><strong>limit</strong> (<em>int</em>) &#8211; the maximum number of tags to return</li>
<li><strong>offset</strong> (<em>int</em>) &#8211; when <tt class="docutils literal"><span class="pre">limit</span></tt> is given, the offset to start returning tags
from</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of strings</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.task_status_show">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">task_status_show</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.task_status_show" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a task status.</p>
<p>Either the <tt class="docutils literal"><span class="pre">id</span></tt> parameter <em>or</em> the <tt class="docutils literal"><span class="pre">entity_id</span></tt>, <tt class="docutils literal"><span class="pre">task_type</span></tt> <em>and</em>
<tt class="docutils literal"><span class="pre">key</span></tt> parameters must be given.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>string</em>) &#8211; the id of the task status (optional)</li>
<li><strong>entity_id</strong> (<em>string</em>) &#8211; the entity_id of the task status (optional)</li>
<li><strong>task_type</strong> &#8211; the task_type of the task status (optional)</li>
<li><strong>key</strong> (<em>string</em>) &#8211; the key of the task status (optional)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.term_translation_show">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">term_translation_show</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.term_translation_show" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translations for the given term(s) and language(s).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>terms</strong> (<em>list of strings</em>) &#8211; the terms to search for translations of, e.g. <tt class="docutils literal"><span class="pre">'Russian'</span></tt>,
<tt class="docutils literal"><span class="pre">'romantic</span> <span class="pre">novel'</span></tt></li>
<li><strong>lang_codes</strong> (<em>list of language code strings</em>) &#8211; the language codes of the languages to search for
translations into, e.g. <tt class="docutils literal"><span class="pre">'en'</span></tt>, <tt class="docutils literal"><span class="pre">'de'</span></tt> (optional, default is to
search for translations into any language)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">a list of term translation dictionaries each with keys <tt class="docutils literal"><span class="pre">'term'</span></tt>
(the term searched for, in the source language), <tt class="docutils literal"><span class="pre">'term_translation'</span></tt>
(the translation of the term into the target language) and
<tt class="docutils literal"><span class="pre">'lang_code'</span></tt> (the language code of the target language)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.roles_show">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">roles_show</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.roles_show" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the roles of all users and authorization groups for an object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>domain_object</strong> (<em>string</em>) &#8211; a package or group name or id
to filter the results by</li>
<li><strong>user</strong> (<em>string</em>) &#8211; a user name or id</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of dictionaries</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.status_show">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">status_show</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.status_show" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary with information about the site&#8217;s configuration.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.vocabulary_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">vocabulary_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.vocabulary_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all the site&#8217;s tag vocabularies.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of dictionaries</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.vocabulary_show">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">vocabulary_show</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.vocabulary_show" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single tag vocabulary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or name of the vocabulary</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the vocabulary.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.user_activity_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">user_activity_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.user_activity_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a user&#8217;s public activity stream.</p>
<p>You must be authorized to view the user&#8217;s profile.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>string</em>) &#8211; the id or name of the user</li>
<li><strong>offset</strong> (<em>int</em>) &#8211; where to start getting activity items from
(optional, default: 0)</li>
<li><strong>limit</strong> (<em>int</em>) &#8211; the maximum number of activities to return
(optional, default: 31, the default value is configurable via the
ckan.activity_list_limit setting)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of dictionaries</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.package_activity_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">package_activity_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.package_activity_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a package&#8217;s activity stream.</p>
<p>You must be authorized to view the package.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>string</em>) &#8211; the id or name of the package</li>
<li><strong>offset</strong> (<em>int</em>) &#8211; where to start getting activity items from
(optional, default: 0)</li>
<li><strong>limit</strong> (<em>int</em>) &#8211; the maximum number of activities to return
(optional, default: 31, the default value is configurable via the
ckan.activity_list_limit setting)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of dictionaries</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.group_activity_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">group_activity_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.group_activity_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a group&#8217;s activity stream.</p>
<p>You must be authorized to view the group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>string</em>) &#8211; the id or name of the group</li>
<li><strong>offset</strong> (<em>int</em>) &#8211; where to start getting activity items from
(optional, default: 0)</li>
<li><strong>limit</strong> (<em>int</em>) &#8211; the maximum number of activities to return
(optional, default: 31, the default value is configurable via the
ckan.activity_list_limit setting)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of dictionaries</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.organization_activity_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">organization_activity_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.organization_activity_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a organization&#8217;s activity stream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or name of the organization</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list of dictionaries</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.recently_changed_packages_activity_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">recently_changed_packages_activity_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.recently_changed_packages_activity_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the activity stream of all recently added or changed packages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>offset</strong> (<em>int</em>) &#8211; where to start getting activity items from
(optional, default: 0)</li>
<li><strong>limit</strong> (<em>int</em>) &#8211; the maximum number of activities to return
(optional, default: 31, the default value is configurable via the
ckan.activity_list_limit setting)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of dictionaries</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.activity_detail_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">activity_detail_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.activity_detail_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an activity&#8217;s list of activity detail items.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id of the activity</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list of dictionaries.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.user_activity_list_html">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">user_activity_list_html</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.user_activity_list_html" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a user&#8217;s public activity stream as HTML.</p>
<p>The activity stream is rendered as a snippet of HTML meant to be included
in an HTML page, i.e. it doesn&#8217;t have any HTML header or footer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>string</em>) &#8211; The id or name of the user.</li>
<li><strong>offset</strong> (<em>int</em>) &#8211; where to start getting activity items from
(optional, default: 0)</li>
<li><strong>limit</strong> (<em>int</em>) &#8211; the maximum number of activities to return
(optional, default: 31, the default value is configurable via the
ckan.activity_list_limit setting)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.package_activity_list_html">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">package_activity_list_html</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.package_activity_list_html" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a package&#8217;s activity stream as HTML.</p>
<p>The activity stream is rendered as a snippet of HTML meant to be included
in an HTML page, i.e. it doesn&#8217;t have any HTML header or footer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>string</em>) &#8211; the id or name of the package</li>
<li><strong>offset</strong> (<em>int</em>) &#8211; where to start getting activity items from
(optional, default: 0)</li>
<li><strong>limit</strong> (<em>int</em>) &#8211; the maximum number of activities to return
(optional, default: 31, the default value is configurable via the
ckan.activity_list_limit setting)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.group_activity_list_html">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">group_activity_list_html</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.group_activity_list_html" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a group&#8217;s activity stream as HTML.</p>
<p>The activity stream is rendered as a snippet of HTML meant to be included
in an HTML page, i.e. it doesn&#8217;t have any HTML header or footer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>string</em>) &#8211; the id or name of the group</li>
<li><strong>offset</strong> (<em>int</em>) &#8211; where to start getting activity items from
(optional, default: 0)</li>
<li><strong>limit</strong> (<em>int</em>) &#8211; the maximum number of activities to return
(optional, default: 31, the default value is configurable via the
ckan.activity_list_limit setting)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.organization_activity_list_html">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">organization_activity_list_html</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.organization_activity_list_html" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a organization&#8217;s activity stream as HTML.</p>
<p>The activity stream is rendered as a snippet of HTML meant to be included
in an HTML page, i.e. it doesn&#8217;t have any HTML header or footer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or name of the organization</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.recently_changed_packages_activity_list_html">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">recently_changed_packages_activity_list_html</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.recently_changed_packages_activity_list_html" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the activity stream of all recently changed packages as HTML.</p>
<p>The activity stream includes all recently added or changed packages. It is
rendered as a snippet of HTML meant to be included in an HTML page, i.e. it
doesn&#8217;t have any HTML header or footer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>offset</strong> (<em>int</em>) &#8211; where to start getting activity items from
(optional, default: 0)</li>
<li><strong>limit</strong> (<em>int</em>) &#8211; the maximum number of activities to return
(optional, default: 31, the default value is configurable via the
ckan.activity_list_limit setting)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.user_follower_count">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">user_follower_count</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.user_follower_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of followers of a user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or name of the user</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.dataset_follower_count">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">dataset_follower_count</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.dataset_follower_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of followers of a dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or name of the dataset</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.group_follower_count">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">group_follower_count</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.group_follower_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of followers of a group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or name of the group</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.organization_follower_count">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">organization_follower_count</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.organization_follower_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of followers of an organization.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or name of the organization</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.user_follower_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">user_follower_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.user_follower_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of users that are following the given user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or name of the user</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list of dictionaries</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.dataset_follower_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">dataset_follower_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.dataset_follower_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of users that are following the given dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or name of the dataset</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list of dictionaries</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.group_follower_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">group_follower_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.group_follower_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of users that are following the given group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or name of the group</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list of dictionaries</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.organization_follower_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">organization_follower_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.organization_follower_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of users that are following the given organization.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or name of the organization</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list of dictionaries</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.am_following_user">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">am_following_user</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.am_following_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if you&#8217;re following the given user, <tt class="docutils literal"><span class="pre">False</span></tt> if not.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or name of the user</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.am_following_dataset">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">am_following_dataset</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.am_following_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if you&#8217;re following the given dataset, <tt class="docutils literal"><span class="pre">False</span></tt> if not.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or name of the dataset</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.am_following_group">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">am_following_group</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.am_following_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if you&#8217;re following the given group, <tt class="docutils literal"><span class="pre">False</span></tt> if not.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or name of the group</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.followee_count">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">followee_count</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.followee_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of objects that are followed by the given user.</p>
<p>Counts all objects, of any type, that the given user is following
(e.g. followed users, followed datasets, followed groups).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id of the user</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.user_followee_count">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">user_followee_count</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.user_followee_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of users that are followed by the given user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id of the user</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.dataset_followee_count">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">dataset_followee_count</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.dataset_followee_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of datasets that are followed by the given user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id of the user</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.group_followee_count">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">group_followee_count</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.group_followee_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of groups that are followed by the given user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id of the user</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.followee_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">followee_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.followee_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of objects that are followed by the given user.</p>
<p>Returns all objects, of any type, that the given user is following
(e.g. followed users, followed datasets, followed groups.. ).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>string</em>) &#8211; the id of the user</li>
<li><strong>q</strong> (<em>string</em>) &#8211; a query string to limit results by, only objects whose display
name begins with the given string (case-insensitive) wil be returned
(optional)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of dictionaries, each with keys &#8216;type&#8217; (e.g. &#8216;user&#8217;,
&#8216;dataset&#8217; or &#8216;group&#8217;), &#8216;display_name&#8217; (e.g. a user&#8217;s display name,
or a package&#8217;s title) and &#8216;dict&#8217; (e.g. a dict representing the
followed user, package or group, the same as the dict that would be
returned by user_show, package_show or group_show)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.user_followee_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">user_followee_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.user_followee_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of users that are followed by the given user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id of the user</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list of dictionaries</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.dataset_followee_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">dataset_followee_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.dataset_followee_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of datasets that are followed by the given user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or name of the user</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list of dictionaries</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.group_followee_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">group_followee_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.group_followee_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of groups that are followed by the given user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or name of the user</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list of dictionaries</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.organization_followee_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">organization_followee_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.organization_followee_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of organizations that are followed by the given user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or name of the user</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list of dictionaries</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.dashboard_activity_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">dashboard_activity_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.dashboard_activity_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the authorized user&#8217;s dashboard activity stream.</p>
<p>Unlike the activity dictionaries returned by other <tt class="docutils literal"><span class="pre">*_activity_list</span></tt>
actions, these activity dictionaries have an extra boolean value with key
<tt class="docutils literal"><span class="pre">is_new</span></tt> that tells you whether the activity happened since the user last
viewed her dashboard (<tt class="docutils literal"><span class="pre">'is_new':</span> <span class="pre">True</span></tt>) or not (<tt class="docutils literal"><span class="pre">'is_new':</span> <span class="pre">False</span></tt>).</p>
<p>The user&#8217;s own activities are always marked <tt class="docutils literal"><span class="pre">'is_new':</span> <span class="pre">False</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>offset</strong> (<em>int</em>) &#8211; where to start getting activity items from
(optional, default: 0)</li>
<li><strong>limit</strong> &#8211; the maximum number of activities to return
(optional, default: 31, the default value is configurable via the
<tt class="docutils literal"><span class="pre">ckan.activity_list_limit</span></tt> setting)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of activity dictionaries</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.dashboard_activity_list_html">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">dashboard_activity_list_html</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.dashboard_activity_list_html" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the authorized user&#8217;s dashboard activity stream as HTML.</p>
<p>The activity stream is rendered as a snippet of HTML meant to be included
in an HTML page, i.e. it doesn&#8217;t have any HTML header or footer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>string</em>) &#8211; the id or name of the user</li>
<li><strong>offset</strong> (<em>int</em>) &#8211; where to start getting activity items from
(optional, default: 0)</li>
<li><strong>limit</strong> (<em>int</em>) &#8211; the maximum number of activities to return
(optional, default: 31, the default value is configurable via the
ckan.activity_list_limit setting)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.dashboard_new_activities_count">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">dashboard_new_activities_count</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.dashboard_new_activities_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of new activities in the user&#8217;s dashboard.</p>
<p>Return the number of new activities in the authorized user&#8217;s dashboard
activity stream.</p>
<p>Activities from the user herself are not counted by this function even
though they appear in the dashboard (users don&#8217;t want to be notified about
things they did themselves).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.get.member_roles_list">
<tt class="descclassname">ckan.logic.action.get.</tt><tt class="descname">member_roles_list</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.get.member_roles_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the possible roles for members of groups and organizations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>group_type</strong> &#8211; the group type, either &#8220;group&#8221; or &#8220;organization&#8221;
(optional, default &#8220;organization&#8221;)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list of dictionaries each with two keys: &#8220;text&#8221; (the display
name of the role, e.g. &#8220;Admin&#8221;) and &#8220;value&#8221; (the internal name of the
role, e.g. &#8220;admin&#8221;)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of dictionaries</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-ckan.logic.action.create">
<span id="ckan-logic-action-create"></span><h3>ckan.logic.action.create<a class="headerlink" href="api.html#module-ckan.logic.action.create" title="Permalink to this headline">¶</a></h3>
<p>API functions for adding data to CKAN.</p>
<dl class="function">
<dt id="ckan.logic.action.create.package_create">
<tt class="descclassname">ckan.logic.action.create.</tt><tt class="descname">package_create</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.create.package_create" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new dataset (package).</p>
<p>You must be authorized to create new datasets. If you specify any groups
for the new dataset, you must also be authorized to edit these groups.</p>
<p>Plugins may change the parameters of this function depending on the value
of the <tt class="docutils literal"><span class="pre">type</span></tt> parameter, see the <tt class="docutils literal"><span class="pre">IDatasetForm</span></tt> plugin interface.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<em>string</em>) &#8211; the name of the new dataset, must be between 2 and 100
characters long and contain only lowercase alphanumeric characters,
<tt class="docutils literal"><span class="pre">-</span></tt> and <tt class="docutils literal"><span class="pre">_</span></tt>, e.g. <tt class="docutils literal"><span class="pre">'warandpeace'</span></tt></li>
<li><strong>title</strong> (<em>string</em>) &#8211; the title of the dataset (optional, default: same as
<tt class="docutils literal"><span class="pre">name</span></tt>)</li>
<li><strong>author</strong> (<em>string</em>) &#8211; the name of the dataset&#8217;s author (optional)</li>
<li><strong>author_email</strong> (<em>string</em>) &#8211; the email address of the dataset&#8217;s author (optional)</li>
<li><strong>maintainer</strong> (<em>string</em>) &#8211; the name of the dataset&#8217;s maintainer (optional)</li>
<li><strong>maintainer_email</strong> (<em>string</em>) &#8211; the email address of the dataset&#8217;s maintainer
(optional)</li>
<li><strong>license_id</strong> (<em>license id string</em>) &#8211; the id of the dataset&#8217;s license, see <tt class="docutils literal"><span class="pre">license_list()</span></tt>
for available values (optional)</li>
<li><strong>notes</strong> (<em>string</em>) &#8211; a description of the dataset (optional)</li>
<li><strong>url</strong> (<em>string</em>) &#8211; a URL for the dataset&#8217;s source (optional)</li>
<li><strong>version</strong> (<em>string, no longer than 100 characters</em>) &#8211; (optional)</li>
<li><strong>state</strong> (<em>string</em>) &#8211; the current state of the dataset, e.g. <tt class="docutils literal"><span class="pre">'active'</span></tt> or
<tt class="docutils literal"><span class="pre">'deleted'</span></tt>, only active datasets show up in search results and
other lists of datasets, this parameter will be ignored if you are not
authorized to change the state of the dataset (optional, default:
<tt class="docutils literal"><span class="pre">'active'</span></tt>)</li>
<li><strong>type</strong> (<em>string</em>) &#8211; the type of the dataset (optional), <tt class="docutils literal"><span class="pre">IDatasetForm</span></tt> plugins
associate themselves with different dataset types and provide custom
dataset handling behaviour for these types</li>
<li><strong>resources</strong> (<em>list of resource dictionaries</em>) &#8211; the dataset&#8217;s resources, see <tt class="docutils literal"><span class="pre">resource_create()</span></tt>
for the format of resource dictionaries (optional)</li>
<li><strong>tags</strong> (<em>list of tag dictionaries</em>) &#8211; the dataset&#8217;s tags, see <tt class="docutils literal"><span class="pre">tag_create()</span></tt> for the format
of tag dictionaries (optional)</li>
<li><strong>extras</strong> (<em>list of dataset extra dictionaries</em>) &#8211; the dataset&#8217;s extras (optional), extras are arbitrary
(key: value) metadata items that can be added to datasets, each extra
dictionary should have keys <tt class="docutils literal"><span class="pre">'key'</span></tt> (a string), <tt class="docutils literal"><span class="pre">'value'</span></tt> (a
string)</li>
<li><strong>relationships_as_object</strong> (<em>list of relationship dictionaries</em>) &#8211; see <tt class="docutils literal"><span class="pre">package_relationship_create()</span></tt> for
the format of relationship dictionaries (optional)</li>
<li><strong>relationships_as_subject</strong> (<em>list of relationship dictionaries</em>) &#8211; see <tt class="docutils literal"><span class="pre">package_relationship_create()</span></tt> for
the format of relationship dictionaries (optional)</li>
<li><strong>groups</strong> (<em>list of dictionaries</em>) &#8211; the groups to which the dataset belongs (optional), each
group dictionary should have one or more of the following keys which
identify an existing group:
<tt class="docutils literal"><span class="pre">'id'</span></tt> (the id of the group, string), <tt class="docutils literal"><span class="pre">'name'</span></tt> (the name of the
group, string), <tt class="docutils literal"><span class="pre">'title'</span></tt> (the title of the group, string), to see
which groups exist call <tt class="docutils literal"><span class="pre">group_list()</span></tt></li>
<li><strong>owner_org</strong> (<em>string</em>) &#8211; the id of the dataset&#8217;s owning organization, see
<tt class="docutils literal"><span class="pre">organization_list()</span></tt> or <tt class="docutils literal"><span class="pre">organization_list_for_user</span></tt> for
available values (optional)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the newly created dataset (unless &#8216;return_id_only&#8217; is set to True
in the context, in which case just the dataset id will be returned)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.create.resource_create">
<tt class="descclassname">ckan.logic.action.create.</tt><tt class="descname">resource_create</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.create.resource_create" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends a new resource to a datasets list of resources.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>package_id</strong> (<em>string</em>) &#8211; id of package that the resource needs should be added to.</li>
<li><strong>url</strong> (<em>string</em>) &#8211; url of resource</li>
<li><strong>revision_id</strong> &#8211; (optional)</li>
<li><strong>description</strong> (<em>string</em>) &#8211; (optional)</li>
<li><strong>format</strong> (<em>string</em>) &#8211; (optional)</li>
<li><strong>hash</strong> (<em>string</em>) &#8211; (optional)</li>
<li><strong>name</strong> (<em>string</em>) &#8211; (optional)</li>
<li><strong>resource_type</strong> (<em>string</em>) &#8211; (optional)</li>
<li><strong>mimetype</strong> (<em>string</em>) &#8211; (optional)</li>
<li><strong>mimetype_inner</strong> (<em>string</em>) &#8211; (optional)</li>
<li><strong>webstore_url</strong> (<em>string</em>) &#8211; (optional)</li>
<li><strong>cache_url</strong> (<em>string</em>) &#8211; (optional)</li>
<li><strong>size</strong> (<em>int</em>) &#8211; (optional)</li>
<li><strong>created</strong> (<em>iso date string</em>) &#8211; (optional)</li>
<li><strong>last_modified</strong> (<em>iso date string</em>) &#8211; (optional)</li>
<li><strong>cache_last_updated</strong> (<em>iso date string</em>) &#8211; (optional)</li>
<li><strong>webstore_last_updated</strong> (<em>iso date string</em>) &#8211; (optional)</li>
<li><strong>upload</strong> (<em>FieldStorage (optional) needs multipart/form-data</em>) &#8211; (optional)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the newly created resource</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.create.related_create">
<tt class="descclassname">ckan.logic.action.create.</tt><tt class="descname">related_create</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.create.related_create" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new related item to a dataset.</p>
<p>You must provide your API key in the Authorization header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>title</strong> (<em>string</em>) &#8211; the title of the related item</li>
<li><strong>type</strong> (<em>string</em>) &#8211; the type of the related item, e.g. <tt class="docutils literal"><span class="pre">'Application'</span></tt>,
<tt class="docutils literal"><span class="pre">'Idea'</span></tt> or <tt class="docutils literal"><span class="pre">'Visualisation'</span></tt></li>
<li><strong>id</strong> (<em>string</em>) &#8211; the id of the related item (optional)</li>
<li><strong>description</strong> (<em>string</em>) &#8211; the description of the related item (optional)</li>
<li><strong>url</strong> (<em>string</em>) &#8211; the URL to the related item (optional)</li>
<li><strong>image_url</strong> (<em>string</em>) &#8211; the URL to the image for the related item (optional)</li>
<li><strong>dataset_id</strong> (<em>string</em>) &#8211; the name or id of the dataset that the related item
belongs to (optional)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the newly created related item</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.create.package_relationship_create">
<tt class="descclassname">ckan.logic.action.create.</tt><tt class="descname">package_relationship_create</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.create.package_relationship_create" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a relationship between two datasets (packages).</p>
<p>You must be authorized to edit both the subject and the object datasets.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>subject</strong> (<em>string</em>) &#8211; the id or name of the dataset that is the subject of the
relationship</li>
<li><strong>object</strong> &#8211; the id or name of the dataset that is the object of the
relationship</li>
<li><strong>type</strong> (<em>string</em>) &#8211; the type of the relationship, one of <tt class="docutils literal"><span class="pre">'depends_on'</span></tt>,
<tt class="docutils literal"><span class="pre">'dependency_of'</span></tt>, <tt class="docutils literal"><span class="pre">'derives_from'</span></tt>, <tt class="docutils literal"><span class="pre">'has_derivation'</span></tt>,
<tt class="docutils literal"><span class="pre">'links_to'</span></tt>, <tt class="docutils literal"><span class="pre">'linked_from'</span></tt>, <tt class="docutils literal"><span class="pre">'child_of'</span></tt> or <tt class="docutils literal"><span class="pre">'parent_of'</span></tt></li>
<li><strong>comment</strong> (<em>string</em>) &#8211; a comment about the relationship (optional)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the newly created package relationship</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.create.member_create">
<tt class="descclassname">ckan.logic.action.create.</tt><tt class="descname">member_create</tt><big>(</big><em>context</em>, <em>data_dict=None</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.create.member_create" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an object (e.g. a user, dataset or group) a member of a group.</p>
<p>If the object is already a member of the group then the capacity of the
membership will be updated.</p>
<p>You must be authorized to edit the group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>string</em>) &#8211; the id or name of the group to add the object to</li>
<li><strong>object</strong> (<em>string</em>) &#8211; the id or name of the object to add</li>
<li><strong>object_type</strong> (<em>string</em>) &#8211; the type of the object being added, e.g. <tt class="docutils literal"><span class="pre">'package'</span></tt>
or <tt class="docutils literal"><span class="pre">'user'</span></tt></li>
<li><strong>capacity</strong> (<em>string</em>) &#8211; the capacity of the membership</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the newly created (or updated) membership</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.create.group_create">
<tt class="descclassname">ckan.logic.action.create.</tt><tt class="descname">group_create</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.create.group_create" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new group.</p>
<p>You must be authorized to create groups.</p>
<p>Plugins may change the parameters of this function depending on the value
of the <tt class="docutils literal"><span class="pre">type</span></tt> parameter, see the <tt class="docutils literal"><span class="pre">IGroupForm</span></tt> plugin interface.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<em>string</em>) &#8211; the name of the group, a string between 2 and 100 characters
long, containing only lowercase alphanumeric characters, <tt class="docutils literal"><span class="pre">-</span></tt> and
<tt class="docutils literal"><span class="pre">_</span></tt></li>
<li><strong>id</strong> (<em>string</em>) &#8211; the id of the group (optional)</li>
<li><strong>title</strong> (<em>string</em>) &#8211; the title of the group (optional)</li>
<li><strong>description</strong> (<em>string</em>) &#8211; the description of the group (optional)</li>
<li><strong>image_url</strong> (<em>string</em>) &#8211; the URL to an image to be displayed on the group&#8217;s page
(optional)</li>
<li><strong>type</strong> (<em>string</em>) &#8211; the type of the group (optional), <tt class="docutils literal"><span class="pre">IGroupForm</span></tt> plugins
associate themselves with different group types and provide custom
group handling behaviour for these types
Cannot be &#8216;organization&#8217;</li>
<li><strong>state</strong> (<em>string</em>) &#8211; the current state of the group, e.g. <tt class="docutils literal"><span class="pre">'active'</span></tt> or
<tt class="docutils literal"><span class="pre">'deleted'</span></tt>, only active groups show up in search results and
other lists of groups, this parameter will be ignored if you are not
authorized to change the state of the group (optional, default:
<tt class="docutils literal"><span class="pre">'active'</span></tt>)</li>
<li><strong>approval_status</strong> (<em>string</em>) &#8211; (optional)</li>
<li><strong>extras</strong> (<em>list of dataset extra dictionaries</em>) &#8211; the group&#8217;s extras (optional), extras are arbitrary
(key: value) metadata items that can be added to groups, each extra
dictionary should have keys <tt class="docutils literal"><span class="pre">'key'</span></tt> (a string), <tt class="docutils literal"><span class="pre">'value'</span></tt> (a
string), and optionally <tt class="docutils literal"><span class="pre">'deleted'</span></tt></li>
<li><strong>packages</strong> (<em>list of dictionaries</em>) &#8211; the datasets (packages) that belong to the group, a list
of dictionaries each with keys <tt class="docutils literal"><span class="pre">'name'</span></tt> (string, the id or name of
the dataset) and optionally <tt class="docutils literal"><span class="pre">'title'</span></tt> (string, the title of the
dataset)</li>
<li><strong>groups</strong> (<em>list of dictionaries</em>) &#8211; the groups that belong to the group, a list of dictionaries
each with key <tt class="docutils literal"><span class="pre">'name'</span></tt> (string, the id or name of the group) and
optionally <tt class="docutils literal"><span class="pre">'capacity'</span></tt> (string, the capacity in which the group is
a member of the group)</li>
<li><strong>users</strong> (<em>list of dictionaries</em>) &#8211; the users that belong to the group, a list of dictionaries
each with key <tt class="docutils literal"><span class="pre">'name'</span></tt> (string, the id or name of the user) and
optionally <tt class="docutils literal"><span class="pre">'capacity'</span></tt> (string, the capacity in which the user is
a member of the group)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the newly created group</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.create.organization_create">
<tt class="descclassname">ckan.logic.action.create.</tt><tt class="descname">organization_create</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.create.organization_create" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new organization.</p>
<p>You must be authorized to create organizations.</p>
<p>Plugins may change the parameters of this function depending on the value
of the <tt class="docutils literal"><span class="pre">type</span></tt> parameter, see the <tt class="docutils literal"><span class="pre">IGroupForm</span></tt> plugin interface.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<em>string</em>) &#8211; the name of the organization, a string between 2 and 100 characters
long, containing only lowercase alphanumeric characters, <tt class="docutils literal"><span class="pre">-</span></tt> and
<tt class="docutils literal"><span class="pre">_</span></tt></li>
<li><strong>id</strong> (<em>string</em>) &#8211; the id of the organization (optional)</li>
<li><strong>title</strong> (<em>string</em>) &#8211; the title of the organization (optional)</li>
<li><strong>description</strong> (<em>string</em>) &#8211; the description of the organization (optional)</li>
<li><strong>image_url</strong> (<em>string</em>) &#8211; the URL to an image to be displayed on the organization&#8217;s page
(optional)</li>
<li><strong>state</strong> (<em>string</em>) &#8211; the current state of the organization, e.g. <tt class="docutils literal"><span class="pre">'active'</span></tt> or
<tt class="docutils literal"><span class="pre">'deleted'</span></tt>, only active organizations show up in search results and
other lists of organizations, this parameter will be ignored if you are not
authorized to change the state of the organization (optional, default:
<tt class="docutils literal"><span class="pre">'active'</span></tt>)</li>
<li><strong>approval_status</strong> (<em>string</em>) &#8211; (optional)</li>
<li><strong>extras</strong> (<em>list of dataset extra dictionaries</em>) &#8211; the organization&#8217;s extras (optional), extras are arbitrary
(key: value) metadata items that can be added to organizations, each extra
dictionary should have keys <tt class="docutils literal"><span class="pre">'key'</span></tt> (a string), <tt class="docutils literal"><span class="pre">'value'</span></tt> (a
string), and optionally <tt class="docutils literal"><span class="pre">'deleted'</span></tt></li>
<li><strong>packages</strong> (<em>list of dictionaries</em>) &#8211; the datasets (packages) that belong to the organization, a list
of dictionaries each with keys <tt class="docutils literal"><span class="pre">'name'</span></tt> (string, the id or name of
the dataset) and optionally <tt class="docutils literal"><span class="pre">'title'</span></tt> (string, the title of the
dataset)</li>
<li><strong>users</strong> (<em>list of dictionaries</em>) &#8211; the users that belong to the organization, a list of dictionaries
each with key <tt class="docutils literal"><span class="pre">'name'</span></tt> (string, the id or name of the user) and
optionally <tt class="docutils literal"><span class="pre">'capacity'</span></tt> (string, the capacity in which the user is
a member of the organization)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the newly created organization</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.create.rating_create">
<tt class="descclassname">ckan.logic.action.create.</tt><tt class="descname">rating_create</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.create.rating_create" title="Permalink to this definition">¶</a></dt>
<dd><p>Rate a dataset (package).</p>
<p>You must provide your API key in the Authorization header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>package</strong> (<em>string</em>) &#8211; the name or id of the dataset to rate</li>
<li><strong>rating</strong> (<em>int</em>) &#8211; the rating to give to the dataset, an integer between 1 and
5</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a dictionary with two keys: <tt class="docutils literal"><span class="pre">'rating</span> <span class="pre">average'</span></tt> (the average
rating of the dataset you rated) and <tt class="docutils literal"><span class="pre">'rating</span> <span class="pre">count'</span></tt> (the number of
times the dataset has been rated)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.create.user_create">
<tt class="descclassname">ckan.logic.action.create.</tt><tt class="descname">user_create</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.create.user_create" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new user.</p>
<p>You must be authorized to create users.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<em>string</em>) &#8211; the name of the new user, a string between 2 and 100
characters in length, containing only lowercase alphanumeric
characters, <tt class="docutils literal"><span class="pre">-</span></tt> and <tt class="docutils literal"><span class="pre">_</span></tt></li>
<li><strong>email</strong> (<em>string</em>) &#8211; the email address for the new user</li>
<li><strong>password</strong> (<em>string</em>) &#8211; the password of the new user, a string of at least 4
characters</li>
<li><strong>id</strong> (<em>string</em>) &#8211; the id of the new user (optional)</li>
<li><strong>fullname</strong> (<em>string</em>) &#8211; the full name of the new user (optional)</li>
<li><strong>about</strong> (<em>string</em>) &#8211; a description of the new user (optional)</li>
<li><strong>openid</strong> (<em>string</em>) &#8211; (optional)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the newly created yser</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.create.user_invite">
<tt class="descclassname">ckan.logic.action.create.</tt><tt class="descname">user_invite</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.create.user_invite" title="Permalink to this definition">¶</a></dt>
<dd><p>Invite a new user.</p>
<p>You must be authorized to create group members.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>email</strong> (<em>string</em>) &#8211; the email of the user to be invited to the group</li>
<li><strong>group_id</strong> (<em>string</em>) &#8211; the id or name of the group</li>
<li><strong>role</strong> (<em>string</em>) &#8211; role of the user in the group. One of <tt class="docutils literal"><span class="pre">member</span></tt>, <tt class="docutils literal"><span class="pre">editor</span></tt>,
or <tt class="docutils literal"><span class="pre">admin</span></tt></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the newly created yser</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.create.vocabulary_create">
<tt class="descclassname">ckan.logic.action.create.</tt><tt class="descname">vocabulary_create</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.create.vocabulary_create" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new tag vocabulary.</p>
<p>You must be a sysadmin to create vocabularies.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<em>string</em>) &#8211; the name of the new vocabulary, e.g. <tt class="docutils literal"><span class="pre">'Genre'</span></tt></li>
<li><strong>tags</strong> (<em>list of tag dictionaries</em>) &#8211; the new tags to add to the new vocabulary, for the format of
tag dictionaries see <tt class="docutils literal"><span class="pre">tag_create()</span></tt></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the newly-created vocabulary</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.create.activity_create">
<tt class="descclassname">ckan.logic.action.create.</tt><tt class="descname">activity_create</tt><big>(</big><em>context</em>, <em>activity_dict</em>, <em>**kw</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.create.activity_create" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new activity stream activity.</p>
<p>You must be a sysadmin to create new activities.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>user_id</strong> (<em>string</em>) &#8211; the name or id of the user who carried out the activity,
e.g. <tt class="docutils literal"><span class="pre">'seanh'</span></tt></li>
<li><strong>object_id</strong> &#8211; the name or id of the object of the activity, e.g.
<tt class="docutils literal"><span class="pre">'my_dataset'</span></tt></li>
<li><strong>activity_type</strong> (<em>string</em>) &#8211; the type of the activity, this must be an activity
type that CKAN knows how to render, e.g. <tt class="docutils literal"><span class="pre">'new</span> <span class="pre">package'</span></tt>,
<tt class="docutils literal"><span class="pre">'changed</span> <span class="pre">user'</span></tt>, <tt class="docutils literal"><span class="pre">'deleted</span> <span class="pre">group'</span></tt> etc. (for a full list see
<tt class="docutils literal"><span class="pre">activity_renderers</span></tt> in <tt class="docutils literal"><span class="pre">ckan/logic/action/get.py</span></tt></li>
<li><strong>data</strong> (<em>dictionary</em>) &#8211; any additional data about the activity</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the newly created activity</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.create.tag_create">
<tt class="descclassname">ckan.logic.action.create.</tt><tt class="descname">tag_create</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.create.tag_create" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new vocabulary tag.</p>
<p>You must be a sysadmin to create vocabulary tags.</p>
<p>You can only use this function to create tags that belong to a vocabulary,
not to create free tags. (To create a new free tag simply add the tag to
a package, e.g. using the <tt class="docutils literal"><span class="pre">package_update</span></tt> function.)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<em>string</em>) &#8211; the name for the new tag, a string between 2 and 100
characters long containing only alphanumeric characters and <tt class="docutils literal"><span class="pre">-</span></tt>,
<tt class="docutils literal"><span class="pre">_</span></tt> and <tt class="docutils literal"><span class="pre">.</span></tt>, e.g. <tt class="docutils literal"><span class="pre">'Jazz'</span></tt></li>
<li><strong>vocabulary_id</strong> (<em>string</em>) &#8211; the name or id of the vocabulary that the new tag
should be added to, e.g. <tt class="docutils literal"><span class="pre">'Genre'</span></tt></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the newly-created tag</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.create.follow_user">
<tt class="descclassname">ckan.logic.action.create.</tt><tt class="descname">follow_user</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.create.follow_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Start following another user.</p>
<p>You must provide your API key in the Authorization header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or name of the user to follow, e.g. <tt class="docutils literal"><span class="pre">'joeuser'</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a representation of the &#8216;follower&#8217; relationship between yourself
and the other user</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.create.follow_dataset">
<tt class="descclassname">ckan.logic.action.create.</tt><tt class="descname">follow_dataset</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.create.follow_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Start following a dataset.</p>
<p>You must provide your API key in the Authorization header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or name of the dataset to follow, e.g. <tt class="docutils literal"><span class="pre">'warandpeace'</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a representation of the &#8216;follower&#8217; relationship between yourself
and the dataset</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.create.group_member_create">
<tt class="descclassname">ckan.logic.action.create.</tt><tt class="descname">group_member_create</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.create.group_member_create" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a user a member of a group.</p>
<p>You must be authorized to edit the group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>string</em>) &#8211; the id or name of the group</li>
<li><strong>username</strong> (<em>string</em>) &#8211; name or id of the user to be made member of the group</li>
<li><strong>role</strong> (<em>string</em>) &#8211; role of the user in the group. One of <tt class="docutils literal"><span class="pre">member</span></tt>, <tt class="docutils literal"><span class="pre">editor</span></tt>,
or <tt class="docutils literal"><span class="pre">admin</span></tt></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the newly created (or updated) membership</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.create.organization_member_create">
<tt class="descclassname">ckan.logic.action.create.</tt><tt class="descname">organization_member_create</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.create.organization_member_create" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a user a member of an organization.</p>
<p>You must be authorized to edit the organization.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>string</em>) &#8211; the id or name of the organization</li>
<li><strong>username</strong> (<em>string</em>) &#8211; name or id of the user to be made member of the
organization</li>
<li><strong>role</strong> (<em>string</em>) &#8211; role of the user in the organization. One of <tt class="docutils literal"><span class="pre">member</span></tt>,
<tt class="docutils literal"><span class="pre">editor</span></tt>, or <tt class="docutils literal"><span class="pre">admin</span></tt></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the newly created (or updated) membership</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.create.follow_group">
<tt class="descclassname">ckan.logic.action.create.</tt><tt class="descname">follow_group</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.create.follow_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Start following a group.</p>
<p>You must provide your API key in the Authorization header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or name of the group to follow, e.g. <tt class="docutils literal"><span class="pre">'roger'</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a representation of the &#8216;follower&#8217; relationship between yourself
and the group</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-ckan.logic.action.update">
<span id="ckan-logic-action-update"></span><h3>ckan.logic.action.update<a class="headerlink" href="api.html#module-ckan.logic.action.update" title="Permalink to this headline">¶</a></h3>
<p>API functions for updating existing data in CKAN.</p>
<dl class="function">
<dt id="ckan.logic.action.update.make_latest_pending_package_active">
<tt class="descclassname">ckan.logic.action.update.</tt><tt class="descname">make_latest_pending_package_active</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.update.make_latest_pending_package_active" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: What does this function do?</p>
<p>You must be authorized to update the dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the name or id of the dataset, e.g. <tt class="docutils literal"><span class="pre">'warandpeace'</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.update.related_update">
<tt class="descclassname">ckan.logic.action.update.</tt><tt class="descname">related_update</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.update.related_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a related item.</p>
<p>You must be the owner of a related item to update it.</p>
<p>For further parameters see <tt class="docutils literal"><span class="pre">related_create()</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id of the related item to update</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the updated related item</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.update.resource_update">
<tt class="descclassname">ckan.logic.action.update.</tt><tt class="descname">resource_update</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.update.resource_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a resource.</p>
<p>To update a resource you must be authorized to update the dataset that the
resource belongs to.</p>
<p>For further parameters see <tt class="docutils literal"><span class="pre">resource_create()</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id of the resource to update</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the updated resource</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.update.package_update">
<tt class="descclassname">ckan.logic.action.update.</tt><tt class="descname">package_update</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.update.package_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a dataset (package).</p>
<p>You must be authorized to edit the dataset and the groups that it belongs
to.</p>
<p>Plugins may change the parameters of this function depending on the value
of the dataset&#8217;s <tt class="docutils literal"><span class="pre">type</span></tt> attribute, see the <tt class="docutils literal"><span class="pre">IDatasetForm</span></tt> plugin
interface.</p>
<p>For further parameters see <tt class="docutils literal"><span class="pre">package_create()</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the name or id of the dataset to update</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the updated dataset (if &#8216;return_package_dict&#8217; is True in the
context, which is the default. Otherwise returns just the
dataset id)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.update.package_resource_reorder">
<tt class="descclassname">ckan.logic.action.update.</tt><tt class="descname">package_resource_reorder</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.update.package_resource_reorder" title="Permalink to this definition">¶</a></dt>
<dd><p>Reorder resources against datasets.  If only partial resource ids are
supplied then these are assumed to be first and the other resources will
stay in their original order</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>id</strong> (<em>string</em>) &#8211; the id or name of the package to update</li>
<li><strong>order</strong> &#8211; a list of resource ids in the order needed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.update.package_relationship_update">
<tt class="descclassname">ckan.logic.action.update.</tt><tt class="descname">package_relationship_update</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.update.package_relationship_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a relationship between two datasets (packages).</p>
<p>You must be authorized to edit both the subject and the object datasets.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>string</em>) &#8211; the id of the package relationship to update</li>
<li><strong>subject</strong> (<em>string</em>) &#8211; the name or id of the dataset that is the subject of the
relationship (optional)</li>
<li><strong>object</strong> &#8211; the name or id of the dataset that is the object of the
relationship (optional)</li>
<li><strong>type</strong> (<em>string</em>) &#8211; the type of the relationship, one of <tt class="docutils literal"><span class="pre">'depends_on'</span></tt>,
<tt class="docutils literal"><span class="pre">'dependency_of'</span></tt>, <tt class="docutils literal"><span class="pre">'derives_from'</span></tt>, <tt class="docutils literal"><span class="pre">'has_derivation'</span></tt>,
<tt class="docutils literal"><span class="pre">'links_to'</span></tt>, <tt class="docutils literal"><span class="pre">'linked_from'</span></tt>, <tt class="docutils literal"><span class="pre">'child_of'</span></tt> or <tt class="docutils literal"><span class="pre">'parent_of'</span></tt>
(optional)</li>
<li><strong>comment</strong> (<em>string</em>) &#8211; a comment about the relationship (optional)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the updated relationship</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.update.group_update">
<tt class="descclassname">ckan.logic.action.update.</tt><tt class="descname">group_update</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.update.group_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a group.</p>
<p>You must be authorized to edit the group.</p>
<p>Plugins may change the parameters of this function depending on the value
of the group&#8217;s <tt class="docutils literal"><span class="pre">type</span></tt> attribute, see the <tt class="docutils literal"><span class="pre">IGroupForm</span></tt> plugin interface.</p>
<p>For further parameters see <tt class="docutils literal"><span class="pre">group_create()</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the name or id of the group to update</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the updated group</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.update.organization_update">
<tt class="descclassname">ckan.logic.action.update.</tt><tt class="descname">organization_update</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.update.organization_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a organization.</p>
<p>You must be authorized to edit the organization.</p>
<p>For further parameters see <tt class="docutils literal"><span class="pre">organization_create()</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the name or id of the organization to update</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the updated organization</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.update.user_update">
<tt class="descclassname">ckan.logic.action.update.</tt><tt class="descname">user_update</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.update.user_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a user account.</p>
<p>Normal users can only update their own user accounts. Sysadmins can update
any user account.</p>
<p>For further parameters see <tt class="docutils literal"><span class="pre">user_create()</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the name or id of the user to update</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the updated user account</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.update.task_status_update">
<tt class="descclassname">ckan.logic.action.update.</tt><tt class="descname">task_status_update</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.update.task_status_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a task status.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>string</em>) &#8211; the id of the task status to update</li>
<li><strong>entity_id</strong> (<em>string</em>) &#8211; </li>
<li><strong>entity_type</strong> (<em>string</em>) &#8211; </li>
<li><strong>task_type</strong> (<em>string</em>) &#8211; </li>
<li><strong>key</strong> (<em>string</em>) &#8211; </li>
<li><strong>value</strong> &#8211; (optional)</li>
<li><strong>state</strong> &#8211; (optional)</li>
<li><strong>last_updated</strong> &#8211; (optional)</li>
<li><strong>error</strong> &#8211; (optional)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the updated task status</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.update.task_status_update_many">
<tt class="descclassname">ckan.logic.action.update.</tt><tt class="descname">task_status_update_many</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.update.task_status_update_many" title="Permalink to this definition">¶</a></dt>
<dd><p>Update many task statuses at once.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>list of dictionaries</em>) &#8211; the task_status dictionaries to update, for the format of task
status dictionaries see <tt class="docutils literal"><span class="pre">task_status_update()</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the updated task statuses</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of dictionaries</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.update.term_translation_update">
<tt class="descclassname">ckan.logic.action.update.</tt><tt class="descname">term_translation_update</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.update.term_translation_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Create or update a term translation.</p>
<p>You must be a sysadmin to create or update term translations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>term</strong> (<em>string</em>) &#8211; the term to be translated, in the original language, e.g.
<tt class="docutils literal"><span class="pre">'romantic</span> <span class="pre">novel'</span></tt></li>
<li><strong>term_translation</strong> (<em>string</em>) &#8211; the translation of the term, e.g.
<tt class="docutils literal"><span class="pre">'Liebesroman'</span></tt></li>
<li><strong>lang_code</strong> (<em>string</em>) &#8211; the language code of the translation, e.g. <tt class="docutils literal"><span class="pre">'de'</span></tt></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the newly created or updated term translation</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.update.term_translation_update_many">
<tt class="descclassname">ckan.logic.action.update.</tt><tt class="descname">term_translation_update_many</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.update.term_translation_update_many" title="Permalink to this definition">¶</a></dt>
<dd><p>Create or update many term translations at once.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>list of dictionaries</em>) &#8211; the term translation dictionaries to create or update,
for the format of term translation dictionaries see
<tt class="docutils literal"><span class="pre">term_translation_update()</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a dictionary with key <tt class="docutils literal"><span class="pre">'success'</span></tt> whose value is a string
stating how many term translations were updated</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.update.vocabulary_update">
<tt class="descclassname">ckan.logic.action.update.</tt><tt class="descname">vocabulary_update</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.update.vocabulary_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a tag vocabulary.</p>
<p>You must be a sysadmin to update vocabularies.</p>
<p>For further parameters see <tt class="docutils literal"><span class="pre">vocabulary_create()</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id of the vocabulary to update</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the updated vocabulary</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.update.user_role_update">
<tt class="descclassname">ckan.logic.action.update.</tt><tt class="descname">user_role_update</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.update.user_role_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a user or authorization group&#8217;s roles for a domain object.</p>
<p>The <tt class="docutils literal"><span class="pre">user</span></tt> parameter must be given.</p>
<p>You must be authorized to update the domain object.</p>
<p>To delete all of a user or authorization group&#8217;s roles for domain object,
pass an empty list <tt class="docutils literal"><span class="pre">[]</span></tt> to the <tt class="docutils literal"><span class="pre">roles</span></tt> parameter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>user</strong> (<em>string</em>) &#8211; the name or id of the user</li>
<li><strong>domain_object</strong> (<em>string</em>) &#8211; the name or id of the domain object (e.g. a package,
group or authorization group)</li>
<li><strong>roles</strong> (<em>list of strings</em>) &#8211; the new roles, e.g. <tt class="docutils literal"><span class="pre">['editor']</span></tt></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the updated roles of all users for the
domain object</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dictionary</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.update.user_role_bulk_update">
<tt class="descclassname">ckan.logic.action.update.</tt><tt class="descname">user_role_bulk_update</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.update.user_role_bulk_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the roles of many users or authorization groups for an object.</p>
<p>You must be authorized to update the domain object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user_roles</strong> (<em>list of dictionaries</em>) &#8211; the updated user roles, for the format of user role
dictionaries see <tt class="docutils literal"><span class="pre">user_role_update()</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the updated roles of all users and authorization groups for the
domain object</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.update.dashboard_mark_activities_old">
<tt class="descclassname">ckan.logic.action.update.</tt><tt class="descname">dashboard_mark_activities_old</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.update.dashboard_mark_activities_old" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark all the authorized user&#8217;s new dashboard activities as old.</p>
<p>This will reset dashboard_new_activities_count to 0.</p>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.update.send_email_notifications">
<tt class="descclassname">ckan.logic.action.update.</tt><tt class="descname">send_email_notifications</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.update.send_email_notifications" title="Permalink to this definition">¶</a></dt>
<dd><p>Send any pending activity stream notification emails to users.</p>
<p>You must provide a sysadmin&#8217;s API key in the Authorization header of the
request, or call this action from the command-line via a <cite>paster post ...</cite>
command.</p>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.update.package_owner_org_update">
<tt class="descclassname">ckan.logic.action.update.</tt><tt class="descname">package_owner_org_update</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.update.package_owner_org_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the owning organization of a dataset</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>id</strong> (<em>string</em>) &#8211; the name or id of the dataset to update</li>
<li><strong>organization_id</strong> &#8211; the name or id of the owning organization</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.update.bulk_update_private">
<tt class="descclassname">ckan.logic.action.update.</tt><tt class="descname">bulk_update_private</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.update.bulk_update_private" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a list of datasets private</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>datasets</strong> (<em>list of strings</em>) &#8211; list of ids of the datasets to update</li>
<li><strong>org_id</strong> (<em>int</em>) &#8211; id of the owning organization</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.update.bulk_update_public">
<tt class="descclassname">ckan.logic.action.update.</tt><tt class="descname">bulk_update_public</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.update.bulk_update_public" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a list of datasets public</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>datasets</strong> (<em>list of strings</em>) &#8211; list of ids of the datasets to update</li>
<li><strong>org_id</strong> (<em>int</em>) &#8211; id of the owning organization</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.update.bulk_update_delete">
<tt class="descclassname">ckan.logic.action.update.</tt><tt class="descname">bulk_update_delete</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.update.bulk_update_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a list of datasets deleted</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>datasets</strong> (<em>list of strings</em>) &#8211; list of ids of the datasets to update</li>
<li><strong>org_id</strong> (<em>int</em>) &#8211; id of the owning organization</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-ckan.logic.action.delete">
<span id="ckan-logic-action-delete"></span><h3>ckan.logic.action.delete<a class="headerlink" href="api.html#module-ckan.logic.action.delete" title="Permalink to this headline">¶</a></h3>
<p>API functions for deleting data from CKAN.</p>
<dl class="function">
<dt id="ckan.logic.action.delete.user_delete">
<tt class="descclassname">ckan.logic.action.delete.</tt><tt class="descname">user_delete</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.delete.user_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a user.</p>
<p>Only sysadmins can delete users.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or usernamename of the user to delete</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.delete.package_delete">
<tt class="descclassname">ckan.logic.action.delete.</tt><tt class="descname">package_delete</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.delete.package_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a dataset (package).</p>
<p>You must be authorized to delete the dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or name of the dataset to delete</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.delete.resource_delete">
<tt class="descclassname">ckan.logic.action.delete.</tt><tt class="descname">resource_delete</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.delete.resource_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a resource from a dataset.</p>
<p>You must be a sysadmin or the owner of the resource to delete it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id of the resource</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.delete.package_relationship_delete">
<tt class="descclassname">ckan.logic.action.delete.</tt><tt class="descname">package_relationship_delete</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.delete.package_relationship_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a dataset (package) relationship.</p>
<p>You must be authorised to delete dataset relationships, and to edit both
the subject and the object datasets.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>subject</strong> (<em>string</em>) &#8211; the id or name of the dataset that is the subject of the
relationship</li>
<li><strong>object</strong> (<em>string</em>) &#8211; the id or name of the dataset that is the object of the
relationship</li>
<li><strong>type</strong> (<em>string</em>) &#8211; the type of the relationship</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.delete.related_delete">
<tt class="descclassname">ckan.logic.action.delete.</tt><tt class="descname">related_delete</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.delete.related_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a related item from a dataset.</p>
<p>You must be a sysadmin or the owner of the related item to delete it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id of the related item</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.delete.member_delete">
<tt class="descclassname">ckan.logic.action.delete.</tt><tt class="descname">member_delete</tt><big>(</big><em>context</em>, <em>data_dict=None</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.delete.member_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove an object (e.g. a user, dataset or group) from a group.</p>
<p>You must be authorized to edit a group to remove objects from it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>id</strong> (<em>string</em>) &#8211; the id of the group</li>
<li><strong>object</strong> (<em>string</em>) &#8211; the id or name of the object to be removed</li>
<li><strong>object_type</strong> (<em>string</em>) &#8211; the type of the object to be removed, e.g. <tt class="docutils literal"><span class="pre">package</span></tt>
or <tt class="docutils literal"><span class="pre">user</span></tt></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.delete.group_delete">
<tt class="descclassname">ckan.logic.action.delete.</tt><tt class="descname">group_delete</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.delete.group_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a group.</p>
<p>You must be authorized to delete the group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the name or id of the group</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.delete.organization_delete">
<tt class="descclassname">ckan.logic.action.delete.</tt><tt class="descname">organization_delete</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.delete.organization_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete an organization.</p>
<p>You must be authorized to delete the organization.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the name or id of the organization</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.delete.group_purge">
<tt class="descclassname">ckan.logic.action.delete.</tt><tt class="descname">group_purge</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.delete.group_purge" title="Permalink to this definition">¶</a></dt>
<dd><p>Purge a group.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Purging a group cannot be undone!</p>
</div>
<p>Purging a group completely removes the group from the CKAN database,
whereas deleting a group simply marks the group as deleted (it will no
longer show up in the frontend, but is still in the db).</p>
<p>You must be authorized to purge the group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the name or id of the group to be purged</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.delete.organization_purge">
<tt class="descclassname">ckan.logic.action.delete.</tt><tt class="descname">organization_purge</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.delete.organization_purge" title="Permalink to this definition">¶</a></dt>
<dd><p>Purge an organization.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Purging an organization cannot be undone!</p>
</div>
<p>Purging an organization completely removes the organization from the CKAN
database, whereas deleting an organization simply marks the organization as
deleted (it will no longer show up in the frontend, but is still in the
db).</p>
<p>You must be authorized to purge the organization.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the name or id of the organization to be purged</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.delete.task_status_delete">
<tt class="descclassname">ckan.logic.action.delete.</tt><tt class="descname">task_status_delete</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.delete.task_status_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a task status.</p>
<p>You must be a sysadmin to delete task statuses.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id of the task status to delete</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.delete.vocabulary_delete">
<tt class="descclassname">ckan.logic.action.delete.</tt><tt class="descname">vocabulary_delete</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.delete.vocabulary_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a tag vocabulary.</p>
<p>You must be a sysadmin to delete vocabularies.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id of the vocabulary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.delete.tag_delete">
<tt class="descclassname">ckan.logic.action.delete.</tt><tt class="descname">tag_delete</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.delete.tag_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a tag.</p>
<p>You must be a sysadmin to delete tags.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>id</strong> (<em>string</em>) &#8211; the id or name of the tag</li>
<li><strong>vocabulary_id</strong> (<em>string</em>) &#8211; the id or name of the vocabulary that the tag belongs
to (optional, default: None)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.delete.unfollow_user">
<tt class="descclassname">ckan.logic.action.delete.</tt><tt class="descname">unfollow_user</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.delete.unfollow_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop following a user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or name of the user to stop following</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.delete.unfollow_dataset">
<tt class="descclassname">ckan.logic.action.delete.</tt><tt class="descname">unfollow_dataset</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.delete.unfollow_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop following a dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or name of the dataset to stop following</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.delete.group_member_delete">
<tt class="descclassname">ckan.logic.action.delete.</tt><tt class="descname">group_member_delete</tt><big>(</big><em>context</em>, <em>data_dict=None</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.delete.group_member_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a user from a group.</p>
<p>You must be authorized to edit the group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>id</strong> (<em>string</em>) &#8211; the id or name of the group</li>
<li><strong>username</strong> (<em>string</em>) &#8211; name or id of the user to be removed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.delete.organization_member_delete">
<tt class="descclassname">ckan.logic.action.delete.</tt><tt class="descname">organization_member_delete</tt><big>(</big><em>context</em>, <em>data_dict=None</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.delete.organization_member_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a user from an organization.</p>
<p>You must be authorized to edit the organization.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>id</strong> (<em>string</em>) &#8211; the id or name of the organization</li>
<li><strong>username</strong> (<em>string</em>) &#8211; name or id of the user to be removed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ckan.logic.action.delete.unfollow_group">
<tt class="descclassname">ckan.logic.action.delete.</tt><tt class="descname">unfollow_group</tt><big>(</big><em>context</em>, <em>data_dict</em><big>)</big><a class="headerlink" href="api.html#ckan.logic.action.delete.unfollow_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop following a group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>string</em>) &#8211; the id or name of the group to stop following</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
</div>



        
        <div style="font-size:smaller;">
          <hr/>
          
            
          
            
          
            
              <div class="pull-right">
                <a href="legacy-api.html"
                  title="Legacy APIs" accesskey="N">
                    
                      
                    
                    Legacy APIs→
                </a>
              </div>
            
          
            
              <div >
                <a href="theming.html"
                  title="Theming" accesskey="P">
                    
                      
                    
                    ← Theming
                </a>
              </div>
            
          
          <div style="clear:both;"></div>
        </div>

      </div>
    </div>
  </div> <!-- / row -->
</div>

<footer>
  <div class="inner">
    <div class="container-fluid">
      <p>An <a href="http://okfn.org">Open Knowledge Foundation</a> project.</p>

<p class="copyright">
  &copy; 2009-2013, <a href="http://okfn.org/">Open Knowledge Foundation</a>.
    Licensed under <a
    href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons
    Attribution ShareAlike (Unported) v3.0 License</a>.<br />
    <img src="http://i.creativecommons.org/l/by-sa/3.0/80x15.png" alt="CC License Logo" />
    <a href="http://opendefinition.org/"><img src="http://assets.okfn.org/images/ok_buttons/oc_80x15_blue.png" border="0"
      alt="{{ _('Open Content') }}" /></a>
  <br/>
</p>

<p>
<a href="https://github.com/ckan/ckan">Source</a>
&mdash;
<a href="https://github.com/ckan/ckan/issues">Issues</a>
&mdash;
<a href="http://lists.okfn.org/mailman/listinfo/ckan-dev">Mailing List</a>
&mdash;
<a href="http://twitter.com/CKANProject">Twitter @CKANProject</a>
</p>

<p>
Related Projects:
<a href="http://thedatahub.org/">The DataHub</a>
&mdash;
<a href="http://datacatalogs.org">DataCatalogs.org</a>
&mdash;
<a href="http://openspending.org">OpenSpending.org</a>
&mdash;
<a href="http://opendatahandbook.org">Open Data Handbook</a>
</p>

    </div>
  </div>
</footer>



  </body>
</html>
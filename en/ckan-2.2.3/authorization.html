<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Organizations and authorization &mdash; CKAN 2.2.3 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/fix.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/bootstrap-responsive.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="https://media.readthedocs.org/css/badge_only.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.2.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="https://media.readthedocs.org/javascript/jquery/jquery-2.0.3.min.js"></script>
    <script type="text/javascript" src="https://media.readthedocs.org/javascript/jquery/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="https://media.readthedocs.org/javascript/underscore.js"></script>
    <script type="text/javascript" src="https://media.readthedocs.org/javascript/doctools.js"></script>
    <script type="text/javascript" src="https://media.readthedocs.org/javascript/readthedocs-doc-embed.js"></script>
    <script type="text/javascript" src="_static/bootstrap-css-tweaks.js"></script>
    <link rel="top" title="CKAN 2.2.3 documentation" href="index.html" />
    <link rel="up" title="Features" href="features.html" />
    <link rel="next" title="Data Viewer" href="data-viewer.html" />
    <link rel="prev" title="Command Line Interface" href="paster.html" />

  
<!-- RTD Extra Head -->

<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link rel="canonical" href="http://docs.ckan.org/en/latest/authorization.html" />

<link rel="stylesheet" href="https://media.readthedocs.org/css/readthedocs-doc-embed.css" type="text/css" />

<script type="text/javascript" src="_static/readthedocs-data.js"></script>

<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = 'authorization'
</script>

<script type="text/javascript" src="_static/readthedocs-dynamic-include.js"></script>

<!-- end RTD <extrahead> --></head>
  <body>
  
  <div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container-fluid">
        
        <a class="logo-icon pull-left" href="contents.html"><img src="_static/ckanlogo.png" alt="CKAN" /></a>
        
        <a class="brand" href="contents.html">CKAN<span class="version"> v2.2.3</span></a>
        
        
        <a class="okfn-logo pull-right" href="http://okfn.org/" title="An Open Knowledge Foundation Project">
          <img src="https://s3.amazonaws.com/assets.okfn.org/p/okfn/img/logo_28x30.png" alt="Open Knowledge Foundation logo" />
        </a>
        
        
          
<form class="pull-right navbar-search" action="http://docs.ckan.org/en/ckan-2.2.3/search.html" method="get">
  <input type="text" name="q" placeholder="Search" class="search-query span2" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        
      </div>
    </div>
  </div>

<div class="container-fluid">
  <div class="row-fluid">
    <div class="span4">
      <div class="well sidebar-nav">
        
          
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><div class="widget toc">
  <h3>Table of Contents</h3>
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Welcome to CKAN&#8217;s Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-guide.html">User guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="sysadmin-guide.html">Sysadmin guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="installing.html">Installing CKAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrading.html">Upgrading CKAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="features.html">Features</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="paster.html">Command Line Interface</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="authorization.html">Organizations and authorization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="authorization.html#organizations">Organizations</a></li>
<li class="toctree-l3"><a class="reference internal" href="authorization.html#configuration-file-options">Configuration File Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="authorization.html#extensions">Extensions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data-viewer.html">Data Viewer</a></li>
<li class="toctree-l2"><a class="reference internal" href="filestore.html">FileStore and file uploads</a></li>
<li class="toctree-l2"><a class="reference internal" href="datastore.html">DataStore extension</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps-ideas.html">Apps &amp; Ideas</a></li>
<li class="toctree-l2"><a class="reference internal" href="tag-vocabularies.html">Tag Vocabularies</a></li>
<li class="toctree-l2"><a class="reference internal" href="form-integration.html">Form Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="linked-data-and-rdf.html">Linked Data and RDF</a></li>
<li class="toctree-l2"><a class="reference internal" href="background-tasks.html">Background tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="email-notifications.html">Email notifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="tracking.html">Page View Tracking</a></li>
<li class="toctree-l2"><a class="reference internal" href="multilingual.html">Multilingual Extension</a></li>
<li class="toctree-l2"><a class="reference internal" href="stats.html">Stats Extension</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="extensions/index.html">Writing CKAN extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="theming.html">Theming</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">The CKAN API</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to CKAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="test.html">Testing CKAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Config File Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendices/index.html">Appendices</a></li>
</ul>

</div>

        </div>
      </div>
        
      </div><!--/.well -->
    </div><!--/span-->
    <div class="span8">
      <div class="content">

        
        <div style="font-size:smaller;">
              <a href="contents.html">CKAN 2.2.3 documentation</a> &raquo;
              <a href="features.html"
                    accesskey="U">
                    Features
                  </a>
                   &raquo;
        </div>

        
  <div class="section" id="organizations-and-authorization">
<h1>Organizations and authorization<a class="headerlink" href="authorization.html#organizations-and-authorization" title="Permalink to this headline">¶</a></h1>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.0: </span>Previous versions of CKAN used a different authorization system.</p>
</div>
<p>CKAN&#8217;s authorization system controls which users are allowed to carry out which
actions on the site. All actions that users can carry out on a CKAN site are
controlled by the authorization system. For example, the authorization system
controls who can register new user accounts, delete user accounts, or create,
edit and delete datasets, groups and organizations.</p>
<p>Authorization in CKAN can be controlled in three ways:</p>
<ol class="arabic simple">
<li>Organizations</li>
<li>Configuration file options</li>
<li>Extensions</li>
</ol>
<p>The following sections explain each of the three methods in turn.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">An <strong>organization admin</strong> in CKAN is an administrator of a particular
organization within the site, with control over that organization and its
members and datasets. A <strong>sysadmin</strong> is an administrator of the site itself.
Sysadmins can always do everything, including adding, editing and deleting
datasets, organizations and groups, regardless of the organization roles and
configuration options described below.</p>
</div>
<div class="section" id="organizations">
<h2>Organizations<a class="headerlink" href="authorization.html#organizations" title="Permalink to this headline">¶</a></h2>
<p>Organizations are the primary way to control who can see, create and update
datasets in CKAN. Each dataset can belong to a single organization, and each
organization controls access to its datasets.</p>
<p>Datasets can be marked as public or private.  Public datasets are visible to
everyone. Private datasets can only be seen by logged-in users who are members
of the dataset&#8217;s organization.  Private datasets are not shown in general
dataset searches but are shown in dataset searches within the organization.</p>
<p>When a user joins an organization, an organization admin gives them one of
three roles: member, editor or admin.</p>
<p>An organization <strong>admin</strong> can:</p>
<ul class="simple">
<li>View the organization&#8217;s private datasets</li>
<li>Add new datasets to the organization</li>
<li>Edit or delete any of the organization&#8217;s datasets</li>
<li>Make  datasets public or private.</li>
<li>Add users to the organization, and choose whether to make the new user a
member, editor or admin</li>
<li>Change the role of any user in the organization, including other admin users</li>
<li>Remove members, editors or other admins from the organization</li>
<li>Edit the organization itself (for example: change the organization&#8217;s title,
description or image)</li>
<li>Delete the organization</li>
</ul>
<p>An <strong>editor</strong> can:</p>
<ul class="simple">
<li>View the organization&#8217;s private datasets</li>
<li>Add new datasets to the organization</li>
<li>Edit or delete any of the organization&#8217;s datasets</li>
</ul>
<p>A <strong>member</strong> can:</p>
<ul class="simple">
<li>View the organization&#8217;s private datasets.</li>
</ul>
<p>When a user creates a new organization, they automatically become the first
admin of that organization.</p>
</div>
<div class="section" id="configuration-file-options">
<h2>Configuration File Options<a class="headerlink" href="authorization.html#configuration-file-options" title="Permalink to this headline">¶</a></h2>
<p>The following configuration file options can be used to customize CKAN&#8217;s
authorization behavior:</p>
<div class="section" id="ckan-auth-anon-create-dataset">
<span id="id1"></span><h3>ckan.auth.anon_create_dataset<a class="headerlink" href="authorization.html#ckan-auth-anon-create-dataset" title="Permalink to this headline">¶</a></h3>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ckan</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">anon_create_dataset</span> <span class="o">=</span> <span class="bp">False</span>
</pre></div>
</div>
<p>Default value: <tt class="docutils literal"><span class="pre">False</span></tt></p>
<p>Allow users to create datasets without registering and logging in.</p>
</div>
<div class="section" id="ckan-auth-create-unowned-dataset">
<span id="id2"></span><h3>ckan.auth.create_unowned_dataset<a class="headerlink" href="authorization.html#ckan-auth-create-unowned-dataset" title="Permalink to this headline">¶</a></h3>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ckan</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">create_unowned_dataset</span> <span class="o">=</span> <span class="bp">False</span>
</pre></div>
</div>
<p>Default value: <tt class="docutils literal"><span class="pre">True</span></tt></p>
<p>Allow the creation of datasets not owned by any organization.</p>
</div>
<div class="section" id="ckan-auth-create-dataset-if-not-in-organization">
<span id="id3"></span><h3>ckan.auth.create_dataset_if_not_in_organization<a class="headerlink" href="authorization.html#ckan-auth-create-dataset-if-not-in-organization" title="Permalink to this headline">¶</a></h3>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ckan</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">create_dataset_if_not_in_organization</span> <span class="o">=</span> <span class="bp">False</span>
</pre></div>
</div>
<p>Default value: <tt class="docutils literal"><span class="pre">True</span></tt></p>
<p>Allow users who are not members of any organization to create datasets,
default: true. <tt class="docutils literal"><span class="pre">create_unowned_dataset</span></tt> must also be True, otherwise
setting <tt class="docutils literal"><span class="pre">create_dataset_if_not_in_organization</span></tt> to True is meaningless.</p>
</div>
<div class="section" id="ckan-auth-user-create-groups">
<span id="id4"></span><h3>ckan.auth.user_create_groups<a class="headerlink" href="authorization.html#ckan-auth-user-create-groups" title="Permalink to this headline">¶</a></h3>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ckan</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">user_create_groups</span> <span class="o">=</span> <span class="bp">False</span>
</pre></div>
</div>
<p>Default value: <tt class="docutils literal"><span class="pre">True</span></tt></p>
<p>Allow users to create groups.</p>
</div>
<div class="section" id="ckan-auth-user-create-organizations">
<span id="id5"></span><h3>ckan.auth.user_create_organizations<a class="headerlink" href="authorization.html#ckan-auth-user-create-organizations" title="Permalink to this headline">¶</a></h3>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ckan</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">user_create_organizations</span> <span class="o">=</span> <span class="bp">False</span>
</pre></div>
</div>
<p>Default value: <tt class="docutils literal"><span class="pre">True</span></tt></p>
<p>Allow users to create organizations.</p>
</div>
<div class="section" id="ckan-auth-user-delete-groups">
<span id="id6"></span><h3>ckan.auth.user_delete_groups<a class="headerlink" href="authorization.html#ckan-auth-user-delete-groups" title="Permalink to this headline">¶</a></h3>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ckan</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">user_delete_groups</span> <span class="o">=</span> <span class="bp">False</span>
</pre></div>
</div>
<p>Default value: <tt class="docutils literal"><span class="pre">True</span></tt></p>
<p>Allow users to delete groups.</p>
</div>
<div class="section" id="ckan-auth-user-delete-organizations">
<span id="id7"></span><h3>ckan.auth.user_delete_organizations<a class="headerlink" href="authorization.html#ckan-auth-user-delete-organizations" title="Permalink to this headline">¶</a></h3>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ckan</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">user_delete_organizations</span> <span class="o">=</span> <span class="bp">False</span>
</pre></div>
</div>
<p>Default value: <tt class="docutils literal"><span class="pre">True</span></tt></p>
<p>Allow users to delete organizations.</p>
</div>
<div class="section" id="ckan-auth-create-user-via-api">
<span id="id8"></span><h3>ckan.auth.create_user_via_api<a class="headerlink" href="authorization.html#ckan-auth-create-user-via-api" title="Permalink to this headline">¶</a></h3>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ckan</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">create_user_via_api</span> <span class="o">=</span> <span class="bp">False</span>
</pre></div>
</div>
<p>Default value: <tt class="docutils literal"><span class="pre">False</span></tt></p>
<p>Allow new user accounts to be created via the API.</p>
</div>
<div class="section" id="ckan-auth-create-user-via-web">
<span id="id9"></span><h3>ckan.auth.create_user_via_web<a class="headerlink" href="authorization.html#ckan-auth-create-user-via-web" title="Permalink to this headline">¶</a></h3>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ckan</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">create_user_via_web</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>
</div>
<p>Default value: <tt class="docutils literal"><span class="pre">True</span></tt></p>
<p>Allow new user accounts to be created via the Web.</p>
</div>
<div class="section" id="ckan-auth-roles-that-cascade-to-sub-groups">
<span id="id10"></span><h3>ckan.auth.roles_that_cascade_to_sub_groups<a class="headerlink" href="authorization.html#ckan-auth-roles-that-cascade-to-sub-groups" title="Permalink to this headline">¶</a></h3>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre>ckan.auth.roles_that_cascade_to_sub_groups = admin editor
</pre></div>
</div>
<p>Default value: <tt class="docutils literal"><span class="pre">admin</span></tt></p>
<p>Makes role permissions apply to all the groups down the hierarchy from the groups that the role is applied to.</p>
<p>e.g. a particular user has the &#8216;admin&#8217; role for group &#8216;Department of Health&#8217;. If you set the value of this option to &#8216;admin&#8217; then the user will automatically have the same admin permissions for the child groups of &#8216;Department of Health&#8217; such as &#8216;Cancer Research&#8217; (and its children too and so on).</p>
</div>
</div>
<div class="section" id="extensions">
<h2>Extensions<a class="headerlink" href="authorization.html#extensions" title="Permalink to this headline">¶</a></h2>
<p>CKAN extensions can implement custom authorization rules by overriding the
authorization functions that CKAN uses. This is done by implementing the
<a class="reference internal" href="extensions/plugin-interfaces.html#ckan.plugins.interfaces.IAuthFunctions" title="ckan.plugins.interfaces.IAuthFunctions"><tt class="xref py py-class docutils literal"><span class="pre">IAuthFunctions</span></tt></a> plugin interface. To get
started with writing CKAN extensions, see <a class="reference internal" href="extensions/index.html"><em>Writing CKAN extensions</em></a>.</p>
</div>
</div>



        
        <div style="font-size:smaller;">
          <hr/>
          
            
          
            
          
            
              <div class="pull-right">
                <a href="data-viewer.html"
                  title="Data Viewer" accesskey="N">
                    
                      
                    
                    Data Viewer→
                </a>
              </div>
            
          
            
              <div >
                <a href="paster.html"
                  title="Command Line Interface" accesskey="P">
                    
                      
                    
                    ← Command Line Interface
                </a>
              </div>
            
          
          <div style="clear:both;"></div>
        </div>

      </div>
    </div>
  </div> <!-- / row -->
</div>

<footer>
  <div class="inner">
    <div class="container-fluid">
      <p>An <a href="http://okfn.org">Open Knowledge Foundation</a> project.</p>

<p class="copyright">
  &copy; 2009-2013, <a href="http://okfn.org/">Open Knowledge Foundation</a>.
    Licensed under <a
    href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons
    Attribution ShareAlike (Unported) v3.0 License</a>.<br />
    <img src="http://i.creativecommons.org/l/by-sa/3.0/80x15.png" alt="CC License Logo" />
    <a href="http://opendefinition.org/"><img src="http://assets.okfn.org/images/ok_buttons/oc_80x15_blue.png" border="0"
      alt="{{ _('Open Content') }}" /></a>
  <br/>
</p>

<p>
<a href="https://github.com/ckan/ckan">Source</a>
&mdash;
<a href="https://github.com/ckan/ckan/issues">Issues</a>
&mdash;
<a href="http://lists.okfn.org/mailman/listinfo/ckan-dev">Mailing List</a>
&mdash;
<a href="http://twitter.com/CKANProject">Twitter @CKANProject</a>
</p>

<p>
Related Projects:
<a href="http://thedatahub.org/">The DataHub</a>
&mdash;
<a href="http://datacatalogs.org">DataCatalogs.org</a>
&mdash;
<a href="http://openspending.org">OpenSpending.org</a>
&mdash;
<a href="http://opendatahandbook.org">Open Data Handbook</a>
</p>

    </div>
  </div>
</footer>



  </body>
</html>
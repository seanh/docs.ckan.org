<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Documentation guidelines &mdash; CKAN 2.2.3 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/fix.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/bootstrap-responsive.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="https://media.readthedocs.org/css/badge_only.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.2.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="https://media.readthedocs.org/javascript/jquery/jquery-2.0.3.min.js"></script>
    <script type="text/javascript" src="https://media.readthedocs.org/javascript/jquery/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="https://media.readthedocs.org/javascript/underscore.js"></script>
    <script type="text/javascript" src="https://media.readthedocs.org/javascript/doctools.js"></script>
    <script type="text/javascript" src="https://media.readthedocs.org/javascript/readthedocs-doc-embed.js"></script>
    <script type="text/javascript" src="_static/bootstrap-css-tweaks.js"></script>
    <link rel="top" title="CKAN 2.2.3 documentation" href="index.html" />
    <link rel="up" title="Contributing to CKAN" href="contributing.html" />
    <link rel="next" title="Testing CKAN" href="test.html" />
    <link rel="prev" title="Building a JavaScript Module" href="javascript-module-tutorial.html" />

  
<!-- RTD Extra Head -->

<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link rel="canonical" href="http://docs.ckan.org/en/latest/documentation-guidelines.html" />

<link rel="stylesheet" href="https://media.readthedocs.org/css/readthedocs-doc-embed.css" type="text/css" />

<script type="text/javascript" src="_static/readthedocs-data.js"></script>

<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = 'documentation-guidelines'
</script>

<script type="text/javascript" src="_static/readthedocs-dynamic-include.js"></script>

<!-- end RTD <extrahead> --></head>
  <body>
  
  <div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container-fluid">
        
        <a class="logo-icon pull-left" href="contents.html"><img src="_static/ckanlogo.png" alt="CKAN" /></a>
        
        <a class="brand" href="contents.html">CKAN<span class="version"> v2.2.3</span></a>
        
        
        <a class="okfn-logo pull-right" href="http://okfn.org/" title="An Open Knowledge Foundation Project">
          <img src="https://s3.amazonaws.com/assets.okfn.org/p/okfn/img/logo_28x30.png" alt="Open Knowledge Foundation logo" />
        </a>
        
        
          
<form class="pull-right navbar-search" action="http://docs.ckan.org/en/ckan-2.2.3/search.html" method="get">
  <input type="text" name="q" placeholder="Search" class="search-query span2" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        
      </div>
    </div>
  </div>

<div class="container-fluid">
  <div class="row-fluid">
    <div class="span4">
      <div class="well sidebar-nav">
        
          
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><div class="widget toc">
  <h3>Table of Contents</h3>
  <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Welcome to CKAN&#8217;s Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-guide.html">User guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="sysadmin-guide.html">Sysadmin guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="installing.html">Installing CKAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrading.html">Upgrading CKAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="extensions/index.html">Writing CKAN extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="theming.html">Theming</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">The CKAN API</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to CKAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="test.html">Testing CKAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Config File Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendices/index.html">Appendices</a></li>
</ul>

</div>

        </div>
      </div>
        
      </div><!--/.well -->
    </div><!--/span-->
    <div class="span8">
      <div class="content">

        
        <div style="font-size:smaller;">
              <a href="contents.html">CKAN 2.2.3 documentation</a> &raquo;
              <a href="contributing.html"
                    accesskey="U">
                    Contributing to CKAN
                  </a>
                   &raquo;
        </div>

        
  <div class="section" id="documentation-guidelines">
<h1>Documentation guidelines<a class="headerlink" href="documentation-guidelines.html#documentation-guidelines" title="Permalink to this headline">Â¶</a></h1>
<p>This section gives some guidelines to help us to write consistent and good
quality documentation for CKAN.</p>
<p>Documentation isn&#8217;t source code, and documentation standards don&#8217;t need to be
followed as rigidly as coding standards do. In the end, some documentation is
better than no documentation, it can always be improved later. So the
guidelines below are soft rules.</p>
<p>Having said that, we suggest just one hard rule: <strong>no new feature (or change to
an existing feature) should be missing from the docs</strong> (but see <a class="reference internal" href="documentation-guidelines.html#todo">todo</a>).</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt>Jacob Kaplon-Moss&#8217;s <a class="reference external" href="http://jacobian.org/writing/great-documentation/">Writing Great Documentation</a></dt>
<dd>A series of blog posts about writing technical docs, a lot of our
guidelines were based on this.</dd>
</dl>
</div>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="documentation-guidelines.html#getting-started" id="id9">1. Getting started</a><ul>
<li><a class="reference internal" href="documentation-guidelines.html#a-install-ckan-into-a-virtualenv" id="id10">a. Install CKAN into a virtualenv</a></li>
<li><a class="reference internal" href="documentation-guidelines.html#b-fetch-ckan-s-git-submodules" id="id11">b. Fetch CKAN&#8217;s git submodules</a></li>
<li><a class="reference internal" href="documentation-guidelines.html#c-build-the-docs" id="id12">c. Build the docs</a></li>
<li><a class="reference internal" href="documentation-guidelines.html#d-edit-the-restructuredtext-files" id="id13">d. Edit the reStructuredText files</a></li>
</ul>
</li>
<li><a class="reference internal" href="documentation-guidelines.html#structure-and-audience" id="id14">2. Structure and audience</a></li>
<li><a class="reference internal" href="documentation-guidelines.html#style" id="id15">3. Style</a><ul>
<li><a class="reference internal" href="documentation-guidelines.html#use-american-spelling" id="id16">Use American spelling</a></li>
<li><a class="reference internal" href="documentation-guidelines.html#spellcheck" id="id17">Spellcheck</a></li>
<li><a class="reference internal" href="documentation-guidelines.html#commonly-used-terms" id="id18">Commonly used terms</a></li>
<li><a class="reference internal" href="documentation-guidelines.html#section-titles" id="id19">Section titles</a></li>
<li><a class="reference internal" href="documentation-guidelines.html#be-conversational" id="id20">Be conversational</a></li>
<li><a class="reference internal" href="documentation-guidelines.html#write-clearly-and-concretely-not-vaguely-and-abstractly" id="id21">Write clearly and concretely, not vaguely and abstractly</a></li>
<li><a class="reference internal" href="documentation-guidelines.html#facilitate-skimming" id="id22">Facilitate skimming</a></li>
</ul>
</li>
<li><a class="reference internal" href="documentation-guidelines.html#sphinx-tips" id="id23">4. Sphinx</a><ul>
<li><a class="reference internal" href="documentation-guidelines.html#don-t-introduce-any-new-sphinx-warnings" id="id24">Don&#8217;t introduce any new Sphinx warnings</a></li>
<li><a class="reference internal" href="documentation-guidelines.html#maximum-line-length" id="id25">Maximum line length</a></li>
<li><a class="reference internal" href="documentation-guidelines.html#cross-references-and-links" id="id26">Cross-references and links</a><ul>
<li><a class="reference internal" href="documentation-guidelines.html#cross-referencing-to-another-file" id="id27">Cross-referencing to another file</a></li>
<li><a class="reference internal" href="documentation-guidelines.html#cross-referencing-a-section-within-a-file" id="id28">Cross-referencing a section within a file</a></li>
<li><a class="reference internal" href="documentation-guidelines.html#cross-referencing-to-ckan-config-settings" id="id29">Cross-referencing to CKAN config settings</a></li>
<li><a class="reference internal" href="documentation-guidelines.html#cross-referencing-to-a-python-object" id="id30">Cross-referencing to a Python object</a></li>
<li><a class="reference internal" href="documentation-guidelines.html#changing-the-link-text-of-a-cross-reference" id="id31">Changing the link text of a cross-reference</a></li>
<li><a class="reference internal" href="documentation-guidelines.html#cross-referencing-to-an-external-page" id="id32">Cross-referencing to an external page</a></li>
</ul>
</li>
<li><a class="reference internal" href="documentation-guidelines.html#substitutions" id="id33">Substitutions</a></li>
<li><a class="reference internal" href="documentation-guidelines.html#parsed-literals" id="id34">Parsed literals</a></li>
<li><a class="reference internal" href="documentation-guidelines.html#autodoc" id="id35">autodoc</a></li>
<li><a class="reference internal" href="documentation-guidelines.html#todo" id="id36">todo</a></li>
<li><a class="reference internal" href="documentation-guidelines.html#versionadded-and-versionchanged" id="id37">versionadded and versionchanged</a></li>
<li><a class="reference internal" href="documentation-guidelines.html#deprecated" id="id38">deprecated</a></li>
<li><a class="reference internal" href="documentation-guidelines.html#seealso" id="id39">seealso</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="getting-started">
<span id="id1"></span><h2><a class="toc-backref" href="documentation-guidelines.html#id9">1. Getting started</a><a class="headerlink" href="documentation-guidelines.html#getting-started" title="Permalink to this headline">Â¶</a></h2>
<p>This section will walk you through downloading the source files for CKAN&#8217;s
docs, editing them, and submitting your work to the CKAN project.</p>
<p>CKAN&#8217;s documentation is created using <a class="reference external" href="http://sphinx-doc.org/">Sphinx</a>,
which in turn uses <a class="reference external" href="http://docutils.sourceforge.net/">Docutils</a>
(reStructuredText is part of Docutils). Some useful links to bookmark:</p>
<ul class="simple">
<li><a class="reference external" href="http://sphinx-doc.org/rest.html">Sphinx&#8217;s reStructuredText Primer</a></li>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/user/rst/cheatsheet.txt">reStructuredText cheat sheet</a></li>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/user/rst/quickref.html">reStructuredText quick reference</a></li>
<li><a class="reference external" href="http://sphinx-doc.org/markup/index.html">Sphinx Markup Constructs</a>
is a full list of the markup that Sphinx adds on top of Docutils.</li>
</ul>
<p>The source files for the docs are in <a class="reference external" href="https://github.com/okfn/ckan/tree/master/doc">the doc directory of the CKAN git repo</a>.
The following sections will walk you through the process of making changes to
these source files, and submitting your work to the CKAN project.</p>
<div class="section" id="a-install-ckan-into-a-virtualenv">
<h3><a class="toc-backref" href="documentation-guidelines.html#id10">a. Install CKAN into a virtualenv</a><a class="headerlink" href="documentation-guidelines.html#a-install-ckan-into-a-virtualenv" title="Permalink to this headline">Â¶</a></h3>
<p>Create a <a class="reference external" href="http://pypi.python.org/pypi/virtualenv">Python virtual environment</a>
(virtualenv), activate it, install CKAN into the virtual environment, and
install the dependencies necessary for building CKAN. In this example we&#8217;ll
create a virtualenv in a folder called <tt class="docutils literal"><span class="pre">pyenv</span></tt>. Run these commands in a
terminal:</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.1: </span>In CKAN 2.0 and earlier the requirements file was called
<tt class="docutils literal"><span class="pre">pip-requirements-docs.txt</span></tt>, not <tt class="docutils literal"><span class="pre">dev-requirements.txt</span></tt> as below.</p>
</div>
<div class="highlight-python"><div class="highlight"><pre>virtualenv --no-site-packages pyenv
. pyenv/bin/activate
pip install -e &#39;git+https://github.com/okfn/ckan.git#egg=ckan&#39;
pip install -r pyenv/src/ckan/dev-requirements.txt
</pre></div>
</div>
</div>
<div class="section" id="b-fetch-ckan-s-git-submodules">
<h3><a class="toc-backref" href="documentation-guidelines.html#id11">b. Fetch CKAN&#8217;s git submodules</a><a class="headerlink" href="documentation-guidelines.html#b-fetch-ckan-s-git-submodules" title="Permalink to this headline">Â¶</a></h3>
<p>CKAN&#8217;s custom Sphinx theme is a kept in a git <em>submodule</em>, so before you can
build the docs you have to run these commands in a terminal to download the
submodule:</p>
<div class="highlight-python"><div class="highlight"><pre>cd pyenv/src/ckan
git submodule init
git submodule update
</pre></div>
</div>
<p>You may occasionally have to run <tt class="docutils literal"><span class="pre">git</span> <span class="pre">submodule</span> <span class="pre">update</span></tt> again, when someone
updates the theme, but this doesn&#8217;t happen often.</p>
</div>
<div class="section" id="c-build-the-docs">
<h3><a class="toc-backref" href="documentation-guidelines.html#id12">c. Build the docs</a><a class="headerlink" href="documentation-guidelines.html#c-build-the-docs" title="Permalink to this headline">Â¶</a></h3>
<p>You should now be able to build the CKAN documentation locally. Make sure your
virtual environment is activated, and then run this command:</p>
<div class="highlight-python"><div class="highlight"><pre>python setup.py build_sphinx
</pre></div>
</div>
<p>Now you can open the built HTML files in
<tt class="docutils literal"><span class="pre">pyenv/src/ckan/build/sphinx/html</span></tt>, e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre>firefox pyenv/src/ckan/build/sphinx/html/index.html
</pre></div>
</div>
</div>
<div class="section" id="d-edit-the-restructuredtext-files">
<h3><a class="toc-backref" href="documentation-guidelines.html#id13">d. Edit the reStructuredText files</a><a class="headerlink" href="documentation-guidelines.html#d-edit-the-restructuredtext-files" title="Permalink to this headline">Â¶</a></h3>
<p>To make changes to the documentation, use a text editor to edit the <tt class="docutils literal"><span class="pre">.rst</span></tt>
files in <tt class="docutils literal"><span class="pre">pyenv/src/ckan/doc/</span></tt>. Save your changes and then build the docs
again (<tt class="docutils literal"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">build_sphinx</span></tt>) and open the HTML files in a web
browser to preview your changes.</p>
<p>Once your docs are ready to submit to the CKAN project, follow the steps in
<a class="reference internal" href="contributing.html#making-a-pull-request"><em>Making a pull request</em></a>.</p>
</div>
</div>
<div class="section" id="structure-and-audience">
<span id="structure"></span><h2><a class="toc-backref" href="documentation-guidelines.html#id14">2. Structure and audience</a><a class="headerlink" href="documentation-guidelines.html#structure-and-audience" title="Permalink to this headline">Â¶</a></h2>
<p><a class="reference internal" href="index.html"><em>Welcome to CKAN&#8217;s Documentation</em></a> describes the overall structure of the docs, and the intended
audience for each part. This structure is intended to be clear, simple and
extendable.  If you&#8217;re adding a new section to the docs, try to fit it into
this structure.</p>
<p>Within a particular page, for example a new page documenting a new feature, our
suggestion for what sections the page should have is:</p>
<ol class="arabic">
<li><p class="first"><strong>Overview</strong>: a conceptual overview of or introduction to the feature.
Explain what the feature provides, why someone might want to use it,
and introduce any key concepts users need to understand.
This is the <strong>why</strong> of the feature.</p>
<p>If it&#8217;s developer documentation (extension writing, theming, API, or
core developer docs), maybe put an architecture guide here.</p>
</li>
<li><p class="first"><strong>Tutorials</strong>: tutorials and examples for how to setup the feature,
and how to use the feature. This is the <strong>how</strong>.</p>
</li>
<li><p class="first"><strong>Reference</strong>: any reference docs such as config options or API functions.</p>
</li>
<li><p class="first"><strong>Troubleshooting</strong>: common error messages and problems, FAQs, how to
diagnose problems.</p>
</li>
</ol>
</div>
<div class="section" id="style">
<span id="id2"></span><h2><a class="toc-backref" href="documentation-guidelines.html#id15">3. Style</a><a class="headerlink" href="documentation-guidelines.html#style" title="Permalink to this headline">Â¶</a></h2>
<p>This section covers things like what tone to use, how to capitalize section
titles, etc.  Having a consistent style will make the docs nice and easy to
read and give them a complete, quality feel.</p>
<div class="section" id="use-american-spelling">
<h3><a class="toc-backref" href="documentation-guidelines.html#id16">Use American spelling</a><a class="headerlink" href="documentation-guidelines.html#use-american-spelling" title="Permalink to this headline">Â¶</a></h3>
<p>Use American spellings everywhere: organization, authorization, realize,
customize, initialize, color, etc. There&#8217;s a list here:
<a class="reference external" href="https://wiki.ubuntu.com/EnglishTranslation/WordSubstitution">https://wiki.ubuntu.com/EnglishTranslation/WordSubstitution</a></p>
</div>
<div class="section" id="spellcheck">
<h3><a class="toc-backref" href="documentation-guidelines.html#id17">Spellcheck</a><a class="headerlink" href="documentation-guidelines.html#spellcheck" title="Permalink to this headline">Â¶</a></h3>
<p>Please spellcheck documentation before merging it into master!</p>
</div>
<div class="section" id="commonly-used-terms">
<h3><a class="toc-backref" href="documentation-guidelines.html#id18">Commonly used terms</a><a class="headerlink" href="documentation-guidelines.html#commonly-used-terms" title="Permalink to this headline">Â¶</a></h3>
<dl class="docutils">
<dt>CKAN</dt>
<dd>Should be written in ALL-CAPS.</dd>
<dt>email</dt>
<dd>Use email not e-mail.</dd>
<dt>PostgreSQL, SQLAlchemy, Nginx, Python, SQLite, JavaScript, etc.</dt>
<dd>These should always be capitalized as shown above (including capital first
letters for Python and Nginx even when they&#8217;re not the first word in a
sentence). <tt class="docutils literal"><span class="pre">doc/conf.py</span></tt> defines substitutions for each of these so you
don&#8217;t have to remember them, see <a class="reference internal" href="documentation-guidelines.html#sphinx-substitutions"><em>Substitutions</em></a>.</dd>
<dt>Web site</dt>
<dd>Two words, with Web always capitalized</dd>
<dt>frontend</dt>
<dd>Not front-end</dd>
<dt>command line</dt>
<dd>Two words, not commandline or command-line
(this is because we want to be like <a class="reference external" href="http://www.cryptonomicon.com/beginning.html">Neal Stephenson</a>)</dd>
<dt>CKAN config file or configuration file</dt>
<dd>Not settings file, ini file, etc. Also, the <strong>config file</strong> contains <strong>config
options</strong> such as <tt class="docutils literal"><span class="pre">ckan.site_id</span></tt>, and each config option is <strong>set</strong> to a
certain <strong>setting</strong> or <strong>value</strong> such as <tt class="docutils literal"><span class="pre">ckan.site_id</span> <span class="pre">=</span> <span class="pre">demo.ckan.org</span></tt>.</dd>
</dl>
</div>
<div class="section" id="section-titles">
<h3><a class="toc-backref" href="documentation-guidelines.html#id19">Section titles</a><a class="headerlink" href="documentation-guidelines.html#section-titles" title="Permalink to this headline">Â¶</a></h3>
<p>Capitalization in section titles should follow the same rules as in normal
sentences: you capitalize the first word and any <a class="reference external" href="http://en.wikipedia.org/wiki/Proper_noun">proper nouns</a>.</p>
<p>This seems like the easiest way to do consistent capitalization in section
titles because it&#8217;s a capitalization rule that we all know already (instead of
inventing a new one just for section titles).</p>
<p>Right:</p>
<ul class="simple">
<li>Installing CKAN from package</li>
<li>Getting started</li>
<li>Command line interface</li>
<li>Writing extensions</li>
<li>Making an API request</li>
<li>You&#8217;re done!</li>
<li>Libraries available to extensions</li>
</ul>
<p>Wrong:</p>
<ul class="simple">
<li>Installing CKAN from Package</li>
<li>Getting Started</li>
<li>Command Line Interface</li>
<li>Writing Extensions</li>
<li>Making an API Request</li>
<li>You&#8217;re Done!</li>
<li>Libraries Available To Extensions</li>
</ul>
<p>For lots of examples of this done right, see
<a class="reference external" href="https://docs.djangoproject.com/en/1.5/contents/">Django&#8217;s table of contents</a>.</p>
<p>In Sphinx, use the following section title styles:</p>
<div class="highlight-python"><div class="highlight"><pre>===============
Top-level title
===============

------------------
Second-level title
------------------

Third-level title
=================

Fourth-level title
------------------
</pre></div>
</div>
<p>If you need more than four levels of headings, you&#8217;re probably doing something
wrong, but see:
<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#sections">http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#sections</a></p>
</div>
<div class="section" id="be-conversational">
<h3><a class="toc-backref" href="documentation-guidelines.html#id20">Be conversational</a><a class="headerlink" href="documentation-guidelines.html#be-conversational" title="Permalink to this headline">Â¶</a></h3>
<p>Write in a friendly, conversational and personal tone:</p>
<ul class="simple">
<li>Use contractions like don&#8217;t, doesn&#8217;t, it&#8217;s etc.</li>
<li>Use &#8220;we&#8221;, for example <em>&#8220;We&#8217;ll publish a call for translations to the
ckan-dev and ckan-discuss mailing lists, announcing that the new
version is ready to be translated&#8221;</em> instead of <em>&#8220;A call for translations will
be published&#8221;</em>.</li>
<li>Refer to the reader personally as &#8220;you&#8221;, as if you&#8217;re giving verbal
instructions to someone in the room: <em>&#8220;First, you&#8217;ll need to do X. Then, when
you&#8217;ve done Y, you can start working on Z&#8221;</em> (instead of stuff like
<em>&#8220;First X must be done, and then Y must be done...&#8221;</em>).</li>
</ul>
</div>
<div class="section" id="write-clearly-and-concretely-not-vaguely-and-abstractly">
<h3><a class="toc-backref" href="documentation-guidelines.html#id21">Write clearly and concretely, not vaguely and abstractly</a><a class="headerlink" href="documentation-guidelines.html#write-clearly-and-concretely-not-vaguely-and-abstractly" title="Permalink to this headline">Â¶</a></h3>
<p><a class="reference external" href="http://www.orwell.ru/library/essays/politics/english/e_polit/">Politics and the English Language</a>
has some good tips about this, including:</p>
<ol class="arabic simple">
<li>Never use a metaphor, simile, or other figure of speech which you are used
to seeing in print.</li>
<li>Never use a long word where a short one will do.</li>
<li>If it&#8217;s possible to cut out a word, always cut it out.</li>
<li>Never use the passive when you can be active.</li>
<li>Never use a foreign phrase, scientific word or jargon word if you can think
of an everyday English equivalent.</li>
</ol>
<p>This will make your meaning clearer and easier to understand, especially for
people whose first language isn&#8217;t English.</p>
</div>
<div class="section" id="facilitate-skimming">
<h3><a class="toc-backref" href="documentation-guidelines.html#id22">Facilitate skimming</a><a class="headerlink" href="documentation-guidelines.html#facilitate-skimming" title="Permalink to this headline">Â¶</a></h3>
<p>Readers skim technical documentation trying to quickly find what&#8217;s
important or what they need, so break walls of text up into small, visually
identifiable pieces:</p>
<ul>
<li><p class="first">Use lots of <a class="reference external" href="http://sphinx-doc.org/rest.html#inline-markup">inline markup</a>:</p>
<div class="highlight-python"><div class="highlight"><pre>*italics*
**bold**
``code``
</pre></div>
</div>
<p>For code samples or filenames with variable parts, uses Sphinx&#8217;s
<a class="reference external" href="http://sphinx-doc.org/markup/inline.html#role-samp">:samp:</a>
and <a class="reference external" href="http://sphinx-doc.org/markup/inline.html#role-file">:file:</a>
directives.</p>
</li>
<li><p class="first">Use <a class="reference external" href="http://sphinx-doc.org/rest.html#lists-and-quote-like-blocks">lists</a>
to break up text.</p>
</li>
<li><p class="first">Use <tt class="docutils literal"><span class="pre">..</span> <span class="pre">note::</span></tt> and <tt class="docutils literal"><span class="pre">..</span> <span class="pre">warning::</span></tt>, see Sphinx&#8217;s
<a class="reference external" href="http://sphinx-doc.org/markup/para.html#paragraph-level-markup">paragraph-level markup</a>.</p>
<p>(reStructuredText actually supports lots more of these: <tt class="docutils literal"><span class="pre">attention</span></tt>,
<tt class="docutils literal"><span class="pre">error</span></tt>, <tt class="docutils literal"><span class="pre">tip</span></tt>, <tt class="docutils literal"><span class="pre">important</span></tt>, etc. but most Sphinx themes only style
<tt class="docutils literal"><span class="pre">note</span></tt> and <tt class="docutils literal"><span class="pre">warning</span></tt>.)</p>
</li>
<li><p class="first">Break text into short paragraphs of 5-6 sentences each max.</p>
</li>
<li><p class="first">Use section and subsection headers to visualize the structure of a page.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="sphinx-tips">
<span id="id3"></span><h2><a class="toc-backref" href="documentation-guidelines.html#id23">4. Sphinx</a><a class="headerlink" href="documentation-guidelines.html#sphinx-tips" title="Permalink to this headline">Â¶</a></h2>
<p>This section gives some useful tips about using Sphinx.</p>
<div class="section" id="don-t-introduce-any-new-sphinx-warnings">
<h3><a class="toc-backref" href="documentation-guidelines.html#id24">Don&#8217;t introduce any new Sphinx warnings</a><a class="headerlink" href="documentation-guidelines.html#don-t-introduce-any-new-sphinx-warnings" title="Permalink to this headline">Â¶</a></h3>
<p>When you build the docs, Sphinx prints out warnings about any broken
cross-references, syntax errors, etc. We aim not to have any of these warnings,
so when adding to or editing the docs make sure your changes don&#8217;t introduce
any new ones.</p>
<p>It&#8217;s best to delete the <tt class="docutils literal"><span class="pre">build</span></tt> directory and completely rebuild the docs, to
check for any warnings:</p>
<div class="highlight-python"><div class="highlight"><pre>rm -rf build; python setup.py build_sphinx
</pre></div>
</div>
</div>
<div class="section" id="maximum-line-length">
<h3><a class="toc-backref" href="documentation-guidelines.html#id25">Maximum line length</a><a class="headerlink" href="documentation-guidelines.html#maximum-line-length" title="Permalink to this headline">Â¶</a></h3>
<p>As with Python code, try to limit all lines to a maximum of 79 characters.</p>
</div>
<div class="section" id="cross-references-and-links">
<h3><a class="toc-backref" href="documentation-guidelines.html#id26">Cross-references and links</a><a class="headerlink" href="documentation-guidelines.html#cross-references-and-links" title="Permalink to this headline">Â¶</a></h3>
<p>Whenever mentioning another page or section in the docs, an external website, a
configuration setting, or a class, exception or function, etc. try to
cross-reference it. Using proper Sphinx cross-references is better than just
typing things like &#8220;see above/below&#8221; or &#8220;see section foo&#8221; because Sphinx
cross-refs are hyperlinked, and because if the thing you&#8217;re referencing to gets
moved or deleted Sphinx will update the cross-reference or print a warning.</p>
<div class="section" id="cross-referencing-to-another-file">
<h4><a class="toc-backref" href="documentation-guidelines.html#id27">Cross-referencing to another file</a><a class="headerlink" href="documentation-guidelines.html#cross-referencing-to-another-file" title="Permalink to this headline">Â¶</a></h4>
<p>Use <tt class="docutils literal"><span class="pre">:doc:</span></tt> to cross-reference to other files by filename:</p>
<div class="highlight-python"><div class="highlight"><pre>See :doc:`configuration`
</pre></div>
</div>
<p>If the file you&#8217;re editing is in a subdir within the <tt class="docutils literal"><span class="pre">doc</span></tt> dir, you may need
to use an absolute reference (starting with a <tt class="docutils literal"><span class="pre">/</span></tt>):</p>
<div class="highlight-python"><div class="highlight"><pre>See :doc:`/configuration`
</pre></div>
</div>
<p>See <a class="reference external" href="http://sphinx-doc.org/markup/inline.html#cross-referencing-documents">Cross-referencing documents</a>
for details.</p>
</div>
<div class="section" id="cross-referencing-a-section-within-a-file">
<h4><a class="toc-backref" href="documentation-guidelines.html#id28">Cross-referencing a section within a file</a><a class="headerlink" href="documentation-guidelines.html#cross-referencing-a-section-within-a-file" title="Permalink to this headline">Â¶</a></h4>
<p>Use <tt class="docutils literal"><span class="pre">:ref:</span></tt> to cross-reference to particular sections within the same or
another file. First you have to add a label before the section you want to
cross-reference to:</p>
<div class="highlight-python"><div class="highlight"><pre>.. _getting-started:

---------------
Getting started
---------------
</pre></div>
</div>
<p>then from elsewhere cross-reference to the section like this:</p>
<div class="highlight-python"><div class="highlight"><pre>See :ref:`getting-started`.
</pre></div>
</div>
<p>see <a class="reference external" href="http://sphinx-doc.org/markup/inline.html#cross-referencing-arbitrary-locations">Cross-referencing arbitrary locations</a>.</p>
</div>
<div class="section" id="cross-referencing-to-ckan-config-settings">
<h4><a class="toc-backref" href="documentation-guidelines.html#id29">Cross-referencing to CKAN config settings</a><a class="headerlink" href="documentation-guidelines.html#cross-referencing-to-ckan-config-settings" title="Permalink to this headline">Â¶</a></h4>
<p>Whenever you mention a CKAN config setting, make it link to the docs for that
setting in <a class="reference internal" href="configuration.html"><em>Config File Options</em></a> by using <tt class="docutils literal"><span class="pre">:ref:</span></tt> and the name of the config
setting:</p>
<div class="highlight-python"><div class="highlight"><pre>:ref:`ckan.site_title`
</pre></div>
</div>
<p>This works because all CKAN config settings are documented in
<a class="reference internal" href="configuration.html"><em>Config File Options</em></a>, and every setting has a Sphinx label that is exactly
the same as the name of the setting, for example:</p>
<div class="highlight-python"><div class="highlight"><pre>.. _ckan.site_title:

ckan.site_title
^^^^^^^^^^^^^^^

Example::

ckan.site_title = Open Data Scotland

Default value:  ``CKAN``

This sets the name of the site, as displayed in the CKAN web interface.
</pre></div>
</div>
<p>If you add a new config setting to CKAN, make sure to document like this it in
<a class="reference internal" href="configuration.html"><em>Config File Options</em></a>.</p>
</div>
<div class="section" id="cross-referencing-to-a-python-object">
<h4><a class="toc-backref" href="documentation-guidelines.html#id30">Cross-referencing to a Python object</a><a class="headerlink" href="documentation-guidelines.html#cross-referencing-to-a-python-object" title="Permalink to this headline">Â¶</a></h4>
<p>Whenever you mention a Python function, method, object, class, exception, etc.
cross-reference it using a Sphinx domain object cross-reference.
See <a class="reference internal" href="python-coding-standards.html#referencing-other-code-objects"><em>Referencing other code objects with :py:</em></a>.</p>
</div>
<div class="section" id="changing-the-link-text-of-a-cross-reference">
<h4><a class="toc-backref" href="documentation-guidelines.html#id31">Changing the link text of a cross-reference</a><a class="headerlink" href="documentation-guidelines.html#changing-the-link-text-of-a-cross-reference" title="Permalink to this headline">Â¶</a></h4>
<p>With <tt class="docutils literal"><span class="pre">:doc:</span></tt> <tt class="docutils literal"><span class="pre">:ref:</span></tt> and other kinds of link, if you want the link text to
be different from the title of the thing you&#8217;re referencing, do this:</p>
<div class="highlight-python"><div class="highlight"><pre>:doc:`the theming document &lt;theming&gt;`

:ref:`the getting started section &lt;getting-started&gt;`
</pre></div>
</div>
</div>
<div class="section" id="cross-referencing-to-an-external-page">
<h4><a class="toc-backref" href="documentation-guidelines.html#id32">Cross-referencing to an external page</a><a class="headerlink" href="documentation-guidelines.html#cross-referencing-to-an-external-page" title="Permalink to this headline">Â¶</a></h4>
<p>The syntax for linking to external URLs is slightly different from
cross-referencing, you have to add a trailing underscore:</p>
<div class="highlight-python"><div class="highlight"><pre>`Link text &lt;http://example.com/&gt;`_
</pre></div>
</div>
<p>or to define a URL once and then link to it in multiple places, do:</p>
<div class="highlight-python"><div class="highlight"><pre>This is `a link`_ and this is `a link`_ and this is
`another link &lt;a link&gt;`_.

.. _a link: http://example.com/
</pre></div>
</div>
<p>see <a class="reference external" href="http://sphinx-doc.org/rest.html#hyperlinks">Hyperlinks</a> for details.</p>
</div>
</div>
<div class="section" id="substitutions">
<span id="sphinx-substitutions"></span><h3><a class="toc-backref" href="documentation-guidelines.html#id33">Substitutions</a><a class="headerlink" href="documentation-guidelines.html#substitutions" title="Permalink to this headline">Â¶</a></h3>
<p><a class="reference external" href="http://sphinx-doc.org/rest.html#substitutions">Substitutions</a> are a useful
way to define a value that&#8217;s needed in many places (eg. a command, the location
of a file, etc.) in one place and then reuse it many times.</p>
<p>You define the value once like this:</p>
<div class="highlight-python"><div class="highlight"><pre>.. |production.ini| replace:: /etc/ckan/default/production.ini
</pre></div>
</div>
<p>and then reuse it like this:</p>
<div class="highlight-python"><div class="highlight"><pre>Now open your |production.ini| file.
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">|production.ini|</span></tt> will be replaced with the full value
<tt class="docutils literal"><span class="pre">/etc/ckan/default/production.ini</span></tt>.</p>
<p>Substitutions can also be useful for achieving consistent spelling and
capitalization of names like reStructuredText, PostgreSQL, Nginx, etc.</p>
<p>The <tt class="docutils literal"><span class="pre">rst_epilog</span></tt> setting in <tt class="docutils literal"><span class="pre">doc/conf.py</span></tt> contains a list of global
substitutions that can be used from any file.</p>
<p>Substitutions can&#8217;t immediately follow certain characters (with no space
in-between) or the substitution won&#8217;t work. If this is a problem, you can
insert an escaped space, the space won&#8217;t show up in the generated output and
the substitution will work:</p>
<div class="highlight-python"><div class="highlight"><pre>pip install -e &#39;git+\ |git_url|&#39;
</pre></div>
</div>
<p>Similarly, certain characters are not allowed to immediately follow a
substitution (without a space) or the substitution won&#8217;t work. In this case you
can just escape the following characters, the escaped character will show up in
the output and the substitution will work:</p>
<div class="highlight-python"><div class="highlight"><pre>pip install -e &#39;git+\ |git_url|\#egg=ckan&#39;
</pre></div>
</div>
<p>Also see <a class="reference internal" href="documentation-guidelines.html#parsed-literals"><em>Parsed literals</em></a> below for using substitutions in code blocks.</p>
</div>
<div class="section" id="parsed-literals">
<span id="id5"></span><h3><a class="toc-backref" href="documentation-guidelines.html#id34">Parsed literals</a><a class="headerlink" href="documentation-guidelines.html#parsed-literals" title="Permalink to this headline">Â¶</a></h3>
<p>Normally things like links and substitutions don&#8217;t work within a literal code
block. You can make them work by using a <tt class="docutils literal"><span class="pre">parsed-literal</span></tt> block, for
example:</p>
<div class="highlight-python"><div class="highlight"><pre>Copy your development.ini file to create a new production.ini file::

.. parsed-literal::

   cp |development.ini| |production.ini|
</pre></div>
</div>
</div>
<div class="section" id="autodoc">
<h3><a class="toc-backref" href="documentation-guidelines.html#id35">autodoc</a><a class="headerlink" href="documentation-guidelines.html#autodoc" title="Permalink to this headline">Â¶</a></h3>
<p>We try to use <a class="reference external" href="http://sphinx-doc.org/ext/autodoc.html">autodoc</a> to pull documentation from source code docstrings into
our Sphinx docs, wherever appropriate. This helps to avoid duplicating
documentation and also to keep the documentation closer to the code and
therefore more likely to be kept up to date.</p>
<p>Whenever you&#8217;re writing reference documentation for modules, classes, functions
or methods, exceptions, attributes, etc. you should probably be using autodoc.
For example, we use autodoc for the <a class="reference internal" href="api.html#api-reference"><em>Action API reference</em></a>, the
<a class="reference internal" href="extensions/plugin-interfaces.html"><em>Plugin interfaces reference</em></a>, etc.</p>
<p>For how to write docstrings, see <a class="reference internal" href="python-coding-standards.html#docstrings"><em>Docstrings</em></a>.</p>
</div>
<div class="section" id="todo">
<span id="id7"></span><h3><a class="toc-backref" href="documentation-guidelines.html#id36">todo</a><a class="headerlink" href="documentation-guidelines.html#todo" title="Permalink to this headline">Â¶</a></h3>
<p>No new feature (or change to an existing feature) should be missing from the
docs. It&#8217;s best to document new features or changes as you implement them,
but if you really need to merge something without docs then at least add a
<a class="reference external" href="http://sphinx-doc.org/ext/todo.html">todo directive</a> to mark where docs
need to be added or updated (if it&#8217;s a new feature, make a new page or section
just to contain the <tt class="docutils literal"><span class="pre">todo</span></tt>):</p>
<div class="highlight-python"><div class="highlight"><pre>=====================================
CKAN&#39;s Builtin Social Network Feature
=====================================

.. todo::

   Add docs for CKAN&#39;s builtin social network for data hackers.
</pre></div>
</div>
</div>
<div class="section" id="versionadded-and-versionchanged">
<h3><a class="toc-backref" href="documentation-guidelines.html#id37">versionadded and versionchanged</a><a class="headerlink" href="documentation-guidelines.html#versionadded-and-versionchanged" title="Permalink to this headline">Â¶</a></h3>
<p>Use Sphinx&#8217;s <tt class="docutils literal"><span class="pre">versionadded</span></tt> and <tt class="docutils literal"><span class="pre">versionchanged</span></tt> directives to mark new or
changed features. For example:</p>
<div class="highlight-python"><div class="highlight"><pre>================
Tag vocabularies
================

.. versionadded:: 1.7

CKAN sites can have *tag vocabularies*, which are a way of grouping related
tags together into custom fields.

...
</pre></div>
</div>
<p>With <tt class="docutils literal"><span class="pre">versionchanged</span></tt> you usually need to add a sentence explaining what
changed (you can also do this with <tt class="docutils literal"><span class="pre">versionadded</span></tt> if you want):</p>
<div class="highlight-python"><div class="highlight"><pre>=============
Authorization
=============

.. versionchanged:: 2.0
   Previous versions of CKAN used a different authorization system.

CKAN&#39;s authorization system controls which users are allowed to carry out
which...
</pre></div>
</div>
</div>
<div class="section" id="deprecated">
<h3><a class="toc-backref" href="documentation-guidelines.html#id38">deprecated</a><a class="headerlink" href="documentation-guidelines.html#deprecated" title="Permalink to this headline">Â¶</a></h3>
<p>Use Sphinx&#8217;s <a class="reference external" href="http://sphinx-doc.org/markup/para.html#directive-deprecated">deprecated directive</a>
to mark things as deprecated in the docs:</p>
<div class="highlight-python"><div class="highlight"><pre>.. deprecated:: 3.1
   Use :func:`spam` instead.
</pre></div>
</div>
</div>
<div class="section" id="seealso">
<h3><a class="toc-backref" href="documentation-guidelines.html#id39">seealso</a><a class="headerlink" href="documentation-guidelines.html#seealso" title="Permalink to this headline">Â¶</a></h3>
<p>Often one page of the docs is related to other pages of the docs or to external
pages. A <a class="reference external" href="http://sphinx-doc.org/markup/para.html?highlight=seealso#directive-seealso">seealso</a>
block is a nice way to include a list of related links:</p>
<div class="highlight-python"><div class="highlight"><pre>.. seealso::

   :doc:`The DataStore extension &lt;datastore&gt;`
     A CKAN extension for storing data.

   CKAN&#39;s `demo site &lt;http://demo.ckan.org/&gt;`_
     A demo site running the latest CKAN beta version.
</pre></div>
</div>
</div>
</div>
</div>



        
        <div style="font-size:smaller;">
          <hr/>
          
            
          
            
          
            
              <div class="pull-right">
                <a href="test.html"
                  title="Testing CKAN" accesskey="N">
                    
                      
                    
                    Testing CKANâ
                </a>
              </div>
            
          
            
              <div >
                <a href="javascript-module-tutorial.html"
                  title="Building a JavaScript Module" accesskey="P">
                    
                      
                    
                    â Building a JavaScript Module
                </a>
              </div>
            
          
          <div style="clear:both;"></div>
        </div>

      </div>
    </div>
  </div> <!-- / row -->
</div>

<footer>
  <div class="inner">
    <div class="container-fluid">
      <p>An <a href="http://okfn.org">Open Knowledge Foundation</a> project.</p>

<p class="copyright">
  &copy; 2009-2013, <a href="http://okfn.org/">Open Knowledge Foundation</a>.
    Licensed under <a
    href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons
    Attribution ShareAlike (Unported) v3.0 License</a>.<br />
    <img src="http://i.creativecommons.org/l/by-sa/3.0/80x15.png" alt="CC License Logo" />
    <a href="http://opendefinition.org/"><img src="http://assets.okfn.org/images/ok_buttons/oc_80x15_blue.png" border="0"
      alt="{{ _('Open Content') }}" /></a>
  <br/>
</p>

<p>
<a href="https://github.com/ckan/ckan">Source</a>
&mdash;
<a href="https://github.com/ckan/ckan/issues">Issues</a>
&mdash;
<a href="http://lists.okfn.org/mailman/listinfo/ckan-dev">Mailing List</a>
&mdash;
<a href="http://twitter.com/CKANProject">Twitter @CKANProject</a>
</p>

<p>
Related Projects:
<a href="http://thedatahub.org/">The DataHub</a>
&mdash;
<a href="http://datacatalogs.org">DataCatalogs.org</a>
&mdash;
<a href="http://openspending.org">OpenSpending.org</a>
&mdash;
<a href="http://opendatahandbook.org">Open Data Handbook</a>
</p>

    </div>
  </div>
</footer>



  </body>
</html>